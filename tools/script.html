<!--
 Licensed to the Apache Software Foundation (ASF) under one or more
 contributor license agreements.  See the NOTICE file distributed with
 this work for additional information regarding copyright ownership.
 The ASF licenses this file to You under the Apache License, Version 2.0
 (the "License"); you may not use this file except in compliance with
 the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
-->

<!doctype html><html lang="en"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-180663034-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-180663034-1'); </script><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="An open source API to convert natural language into actions."><meta name="author" content="NLPCraft."><link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="manifest" href="/site.webmanifest"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#2d89ef"><meta name="theme-color" content="#ffffff"><title>Apache NLPCraft - Natural Language Interface</title><link rel="stylesheet" href="//stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous"> <script src="//code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script> <script src="//cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script> <script src="//stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script><link href="//use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" rel="stylesheet" crossorigin="anonymous"><link href="/ext/syntaxhighlighter/styles/shCoreNLPCraft.css" rel="stylesheet" type="text/css"><link href="/ext/syntaxhighlighter/styles/shThemeNLPCraft.css" rel="stylesheet" type="text/css"><link rel="preconnect" href="https://fonts.gstatic.com"><link href="//fonts.googleapis.com/css?family=Amatic+SC|Roboto+Mono|Baskervville" rel="stylesheet"><link href="//fonts.googleapis.com/css2?family=Libre+Baskerville:ital@1&display=swap" rel="stylesheet"> <script src="/ext/syntaxhighlighter/scripts/XRegExp.js" type="text/javascript"></script> <script src="/ext/syntaxhighlighter/scripts/shCore.js" type="text/javascript"></script> <script src="/ext/syntaxhighlighter/scripts/shBrushXml.js" type="text/javascript"></script> <script src="/ext/syntaxhighlighter/scripts/shBrushBash.js" type="text/javascript"></script> <script src="/ext/syntaxhighlighter/scripts/shBrushPlain.js" type="text/javascript"></script> <script src="/ext/syntaxhighlighter/scripts/shBrushJava.js" type="text/javascript"></script> <script src="/ext/syntaxhighlighter/scripts/shBrushScala.js" type="text/javascript"></script> <script src="/ext/syntaxhighlighter/scripts/shBrushPython.js" type="text/javascript"></script> <script src="/ext/syntaxhighlighter/scripts/shBrushJScript.js" type="text/javascript"></script> <script async defer src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" type="text/css" href="/assets/css/style.css"/><nav class="navbar navbar-expand-lg navbar-light bg-light" id="top-header"> <a class="navbar-brand mr-4" href="/index.html"> <img src="/images/nlpcraft_logo_white.gif" height="24px"> </a> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav mr-auto"><li class="nav-item"> <a class="nav-link" href="/index.html#features">Features</a><li class="nav-item"> <a class="nav-link" href="/docs.html">Docs <span class="amp">&</span> Tutorials</a><li class="nav-item"> <a class="nav-link" href="/download.html">Downloads <i class="fas fa-download"></i></a><li class="nav-item"> <a class="nav-link" href="/blogs.html">Blog</a><li class="nav-item"> <a class="nav-link" href="/community.html">Community</a><li class="nav-item"> <a class="nav-link" href="/use-cases.html">Use Cases</a></ul><ul class="navbar-nav ml-auto"><li class="nav-item mr-2"> <a class="nav-link" href="/download.html">v.0.7.4</a><li class="nav-item"> <a class="nav-link fork-link" target="github" href="https://github.com/apache/incubator-nlpcraft">GitHub <img height="20px" src="/images/github_logo_white.png"></a></ul></div></nav><div class="container-fluid"><div class="navbar-aligned"><ol class="breadcrumb"><li class="mr-1"><a href="/index.html">Home</a><li class="mr-1 active">Management Script</ol><h1 class="page-title"> <span><i class="fas fa-fw fa-book"></i> Management Script</span></h1><div class="three-cols-container"><div class="col-md-2 first-column"><ul class="side-nav"><li class="side-nav-title">Introduction<li> <a href="/docs.html">Overview</a><li> <a href="/installation.html">Installation</a><li> <a href="/getting-started.html">Getting Started</a><li class="side-nav-title">Developer Guide<li> <a href="/basic-concepts.html">Basic Concepts</a><li> <a href="/first-example.html">First Example</a><li> <a href="/data-model.html">Data Model</a><li> <a href="/intent-matching.html">Intent Matching</a><li> <a href="/using-rest.html">REST API</a><li> <a href="/server-and-probe.html">Server <span class="amp">&amp;</span> Probe</a><li> <a href="/metrics-and-tracing.html">Metrics <span class="amp">&amp;</span> Tracing</a><li> <a href="/integrations.html">Integrations</a><li class="side-nav-title">Tools<li> <a class="active" href="/tools/script.html"><code>nlpcraft.{sh|cmd}</code></a><li> <a href="/tools/test_framework.html">Test Framework</a><li> <a href="/tools/embedded_probe.html">Embedded Probe</a><li> <a href="/tools/sql_model_gen.html">SQL Model Generator</a><li> <a href="/tools/syn_tool.html">Synonyms Tool</a><li class="side-nav-title">Examples<li> <a href="/examples/alarm_clock.html">Alarm Clock</a><li> <a href="/examples/light_switch.html">Light Switch</a><li> <a href="/examples/weather_bot.html">Weather Bot</a><li> <a href="/examples/sql_model.html">SQL Model</a></ul></div><div class="col-md-8 second-column"><section id="overview"><h2 class="section-title">Overview</h2><p> NLPCraft CLI <code>bin/nlpcraft.{sh|cmd}</code> script is a <b>central management utility</b> for NLPCraft that supports interactive REPL and command line modes. Most of the functions this script does can be done through running Java applications or using REST API - yet using this script you can perform the same tasks much simpler and quicker. From starting and managing REST server and probes, running various built-in tools, to testing models via REST API - NLPCraft CLI provides a single centralized utility that makes a quick work out of all these routine tasks.</p><p> The script is only available in either official Apache <a href="/download.html#src">source ZIP</a> or in <a href="/download.html#zip">binary ZIP</a> distributions. If you used Maven or similar build tools to add NLPCraft to your project as a dependency, this script will not be available out-of-the-box - you will need to download ZIP distribution separately.</p><div class="bq warn"> <b>ZIP Distribution</b><p> The NLPCraft CLI is only available in <a href="/download.html">ZIP distributions</a>. For Maven/Gradle/SBT projects you will need to download <a href="/download.html">ZIP distribution</a> separately.</p></div><p> The script is located in <code>/bin</code> sub-folder of the installation root and is available as <code>nlpcraft.sh</code> for <i class="fab fa-fw fa-linux"></i> and <code>nlpcraft.cmd</code> for <i class="fab fa-fw fa-windows"></i> environments. Both versions provide identical functionality.</p></section><section id="quick_start"><h2 class="section-title">Quick Start</h2><p> The <code>bin/nlpcraft.{sh|cmd}</code> works in two modes:</p><ul><li> Command line mode where it executes a single command at a time.<li> Interactive REPL mode. To enter REPL mode run <code>bin/nlpcraft.{sh|cmd}</code> without arguments.</ul><p> All the functionality and command syntax remain the same regardless of whether a command is executed from a command line or in REPL mode.</p><p> To get started, run <code>bin/nlpcraft.{sh|cmd}</code>:</p><p> <img class="img-fluid" src="/images/cli1.png" alt=""></p><p> Script starts in the REPL mode by default.</p><div class="bq info"> <b>REPL Prompt</b><p> REPL prompt shows 4 pieces of information:</p><ul><li>REST server status (<code>ON</code> if server is started and detected, <code>OFF</code> otherwise).<li>Local probe status (<code>ON</code> if probe is started and connected to the server, <code>OFF</code> otherwise).<li>REST access token if the user is signed in. This token is required for all REST calls.<li>Current user working directory.</ul><p> Note that when using <code>start-server</code> command the <a href="/using-rest.html#users">default user account</a> is automatically signed in upon the server start and the access token is obtained. You can sign in with different user account, if necessary.</p></div><h2 class="section-sub-title">Get Command List</h2><p> Type <code>help</code> to list all supported commands (or run <code>bin/nlpcraft.{sh|cmd} help</code> if in command line mode):</p><p> <img class="img-fluid" src="/images/cli2.png" alt=""></p><p> You can get detailed instructions and usage examples for any command <code>xxx</code> by typing <code>help --cmd=xxx</code>, for example:</p><p> <img style="max-width: 914px !important;" class="img-fluid" alt="" src="/images/cli7.png"></p><p> Use <span class="keyboard">Tab</span> key anytime for command auto-suggestion and auto-completion.<br/> Use <span class="keyboard">↑</span> and <span class="keyboard">↓</span> keys to scroll through command history.</p><p> To exit <code>bin/nlpcraft.{sh|cmd}</code> script in REPL mode type <code>quit</code>.</p></section><section id="os_commands"><h2 class="section-title">OS Commands</h2><p> You can run any external OS-specific commands from <code>bin/nlpcraft.{sh|cmd}</code> script by prepending such command with a <code>$</code> symbol. For example:</p><pre class="brush: bash">
            > $git pull # Runs 'git pull' in the current directory.
            > $vi /home/myproject/pom.xml # Edit 'pom.xml' using vi.
            > $emacs /home/myproject/MyModel.scala # Edit 'MyModel.scala' using emacs.
            > $ls -la # Run 'ls-la' Unix command.
            > $cmd /c dir # Runs Windows 'dir' command in a separate shell.
        </pre><p> Note that <em>stdin</em>, <em>stderr</em> and <em>stdout</em> of the new process will inherit from running <code>bin/nlpcraft.{sh|cmd}</code> script process. Running OS commands makes the most sense in REPL mode where you don't want to lose a session context while executing external OS commands. Technically, however, external OS commands can be executed from command line mode as well.</p></section><section id="tips"><h3 class="section-title">Tips <span class="amp">&amp;</span> Tricks</h3><p> NLPCraft CLI is standard command line utility that can be used in the familiar ways both in Linux/Unix/MacOS <i class="fab fa-fw fa-linux"></i> and Window <i class="fab fa-fw fa-windows"></i> environments.</p><span class="section-sub-title">Typical Development Workflow</span><p> Here's the typical workflow of working with NLPCraft using NLPCraft CLI. Note that although all of these steps can be performed from IDE or just a command line - NLPCraft CLI in REPL model provides the easiest way to accomplish these tasks:</p><ol><li> <code>gen-project</code> command generates new Maven/Gradle/Sbt project for either Java, Scala, Groovy or Kotlin that is ready to run.<li> <code>start-server</code> command starts the local REST server.<li> Modify <span class="amp">&amp;</span> build the project using IDE or editor of your choice. You can <a href="#os_commands">launch</a> the editor and build tooling right from NLPCraft CLI.<li> <code>test-model</code> command runs auto-validator for your model automatically starting and stopping an embedded data probe. Alternatively, <code>start-probe</code> and <code>ask</code> commands allow to manually start the local data probe and issue REST requests.<li> <code>stop</code> command stops both local REST server and data probe.</ol><div class="bq info"><p> Steps 3 and 4 define a typical development cycle for change, build and test.</p></div><span class="section-sub-title">Using <code>start-server</code> Command</span><p> REST server is a fire-and-forget component in NLPCraft. You can start it once and you only need to restart it if you change the server configuration. It is customary to add <code>bin/nlpcraft.{sh|cmd} start-server</code> call to the OS init script to have it started automatically on boot up.</p><span class="section-sub-title">Using Default <code>nlpcraft.conf</code></span><p> It is recommended to modify the standard <code>nlpcraft.conf</code> configuration file, i.e. <em>in a standard installation location</em>. Commands like <code>start-server</code>, <code>start-probe</code> and <code>test-model</code> use this location by default and you will not have to specify alternative location or provide other overrides every time you run these commands. If you keep all your configuration modifications in the standard <code>nlpcraft.conf</code> file you can simply run these commands without any additional arguments - significantly simplifying their usage.</p><span class="section-sub-title">Using NLPCraft CLI In Scripts</span><p> All of the commands that utilize REST API produce JSON responses, for a example:</p><p> <img class="img-fluid" src="/images/cli9.png" alt=""></p><p> You can easily parse these JSON responses for your own needs in your scripts. For example, here's the code snippet to get the access token from the <code>signin</code> command (on Linux):</p><pre class="brush: bash">
            $ bin/nlpcraft.sh no-ansi no-logo signin --email=admin@admin.com --passwd=admin | tail -n +2 | jq -M '.acsTok' | tr -d '"'
        </pre><p> ...and the access token is:</p><pre class="brush: bash">
            bjok7yraypseyk86KgGae
        </pre><p> <b>NOTES:</b></p><ul><li> We use <code>no-ansi</code> and <code>no-logo</code> special commands that clean up and simplify the output so that it would be easier to parse the resulting JSON.<li> We use <code>tail -n +2</code> Unix command to skip the 1st line of the output that contains HTTP return code.<li> We use <a target=_blank href="https://stedolan.github.io/jq/">jq</a> utility to parse JSON inline and extract <code>acsTok</code> field.<li> We use <code>tr -d '"'</code> to remove surrounding double quotes to get our final result.</ul></section></div><div class="col-md-2 third-column"><ul class="side-nav"><li class="side-nav-title">On This Page<li><a href="#overview">Overview</a><li><a href="#quick_start">Quick Start</a><li><a href="#os_commands">OS Commands</a><li><a href="#tips">Tips <span class="amp">&amp;</span> Tricks</a><li class="side-nav-title">Quick Links<li> <i class="fab fa-fw fa-github mr-2"></i><a target="github" href="https://github.com/apache/incubator-nlpcraft/tree/master/nlpcraft/src/main/scala/org/apache/nlpcraft/examples">Examples</a><li> <i class="fab fa-fw fa-java mr-2"></i><a target="_" href="/apis/latest/index.html">Javadoc</a><li> <i class="fas fa-fw fa-code mr-2"></i><a href="https://app.swaggerhub.com/apis-docs/Apache-NLPCraft/apache-nlpcraft/0.7.4" target="swaggerhub">REST API</a><li> <i class="fas fa-fw fa-download mr-2"></i><a href="/download.html">Download</a><li> <i class="fas fa-fw fa-magic mr-2"></i><a href="/cheat-sheet.html">Cheat Sheet</a><li class="side-nav-title">Support<li> <nobr> <i class="fab fa-fw fa-jira mr-2"></i><a target="jira" href="https://issues.apache.org/jira/projects/NLPCRAFT/issues">JIRA</a> </nobr><li> <nobr> <i class="far fa-fw fa-envelope mr-2"></i><a href="https://mail-archives.apache.org/mod_mbox/nlpcraft-dev/">Dev List</a> </nobr><li> <nobr> <i class="fab fa-fw fa-stack-overflow mr-2"></i><a target="so" href="https://stackoverflow.com/questions/ask">Stack Overflow</a> </nobr><li> <nobr> <i class="fab fa-fw fa-github mr-2"></i><a target="github" href="https://github.com/apache/incubator-nlpcraft">GitHub</a> </nobr><li> <nobr> <i class="fab fa-fw fa-gitter mr-2"></i><a target="gitter" href="https://gitter.im/apache-nlpcraft/community">Gitter</a> </nobr></ul></div></div></div></div><div id="footer"><div class="container"><div class="text-muted text-center"> <span>Copyright &copy; 2021 Apache Software Foundation</span> <span> <a target=_new href="https://apache.org"><img alt="asf" src="/images/asf_logo.png" height="24px"></a> </span> <a target="asf" href="https://www.apache.org/events/current-event.html" class="btn btn-link ml-4">Events</a> <span class="sep">•</span> <a target="asf" href="https://apache.org/foundation/policies/privacy.html" class="btn btn-link">Privacy</a> <span class="sep">•</span> <a href="/index.html#news" class="btn btn-link">News</a> <span class="sep">•</span> <a href="/docs.html" class="btn btn-link">Docs</a> <span class="ml-4">release: <a href="/download.html"><code>0.7.4</code></a></span> <span class="ml-2"> <a target="github" href="https://github.com/apache/incubator-nlpcraft/actions"><img src="https://github.com/apache/incubator-nlpcraft/workflows/build/badge.svg"></a> <a target=_ href="https://gitter.im/apache-nlpcraft/community"><img alt="Gitter" src="https://badges.gitter.im/apache-nlpcraft/community.svg"></a> </span> <span class="ml-2"> Built in:<a target="scala" href="https://scala-lang.org/"><img style="margin-left: 5px" height="16px" src="/images/scala-logo.png" alt=""></a> </span></div></div></div><script src="//code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script> <script src="//cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script> <script src="//stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script> <script src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.4/lodash.min.js" type="text/javascript" ></script> <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.12.0/moment.min.js" type="text/javascript" ></script> <script src="//cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.5/moment-timezone-with-data.min.js" type="text/javascript" ></script> <script type="text/javascript"> SyntaxHighlighter.defaults["auto-links"] = false; SyntaxHighlighter.defaults["tab-size"] = 2; SyntaxHighlighter.all(); </script>
