<!--
 Licensed to the Apache Software Foundation (ASF) under one or more
 contributor license agreements.  See the NOTICE file distributed with
 this work for additional information regarding copyright ownership.
 The ASF licenses this file to You under the Apache License, Version 2.0
 (the "License"); you may not use this file except in compliance with
 the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
-->

<!doctype html><html lang="en"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-180663034-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-180663034-1'); </script><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="An open source API to convert natural language into actions."><meta name="author" content="NLPCraft."><link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="manifest" href="/site.webmanifest"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#2d89ef"><meta name="theme-color" content="#ffffff"><title>Apache NLPCraft - Natural Language Interface</title><link rel="stylesheet" href="//stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous"> <script src="//code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script> <script src="//cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script> <script src="//stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script><link href="//use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" rel="stylesheet" crossorigin="anonymous"><link href="/ext/syntaxhighlighter/styles/shCoreNLPCraft.css" rel="stylesheet" type="text/css"><link href="/ext/syntaxhighlighter/styles/shThemeNLPCraft.css" rel="stylesheet" type="text/css"><link rel="preconnect" href="https://fonts.gstatic.com"><link href="//fonts.googleapis.com/css?family=Amatic+SC|Roboto+Mono|Baskervville" rel="stylesheet"><link href="//fonts.googleapis.com/css2?family=Libre+Baskerville:ital@1&display=swap" rel="stylesheet"> <script src="/ext/syntaxhighlighter/scripts/XRegExp.js" type="text/javascript"></script> <script src="/ext/syntaxhighlighter/scripts/shCore.js" type="text/javascript"></script> <script src="/ext/syntaxhighlighter/scripts/shBrushXml.js" type="text/javascript"></script> <script src="/ext/syntaxhighlighter/scripts/shBrushBash.js" type="text/javascript"></script> <script src="/ext/syntaxhighlighter/scripts/shBrushPlain.js" type="text/javascript"></script> <script src="/ext/syntaxhighlighter/scripts/shBrushJava.js" type="text/javascript"></script> <script src="/ext/syntaxhighlighter/scripts/shBrushScala.js" type="text/javascript"></script> <script src="/ext/syntaxhighlighter/scripts/shBrushIdl.js" type="text/javascript"></script> <script src="/ext/syntaxhighlighter/scripts/shBrushPython.js" type="text/javascript"></script> <script src="/ext/syntaxhighlighter/scripts/shBrushJScript.js" type="text/javascript"></script> <script async defer src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" type="text/css" href="/assets/css/style.css"/><nav class="navbar navbar-expand-lg navbar-light bg-light" id="top-header"> <a class="navbar-brand mr-4" href="/index.html"> <img src="/images/nlpcraft_logo_white-h24.png" alt=""> </a> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"> <span class="navbar-toggler-icon"></span> </button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav mr-auto"><li class="nav-item"> <a class="nav-link" href="/index.html#features">Features</a><li class="nav-item"> <a class="nav-link" href="/docs.html">Docs <span class="amp">&</span> Tutorials</a><li class="nav-item"> <a class="nav-link" href="/download.html">Downloads <i class="fas fa-download"></i></a><li class="nav-item"> <a class="nav-link" href="/blogs.html">Blog</a><li class="nav-item"> <a class="nav-link" href="/community.html">Community</a><li class="nav-item"> <a class="nav-link" href="/use-cases.html">Use Cases</a></ul><ul class="navbar-nav ml-auto"><li class="nav-item mr-2"> <a class="nav-link" href="/download.html">v.0.7.5</a><li class="nav-item"> <a class="nav-link fork-link" target="github" href="https://github.com/apache/incubator-nlpcraft">GitHub <i class="fab fa-fw fa-github mr-2"></i></a></ul></div></nav><div class="container-fluid"><div class="navbar-aligned"><ol class="breadcrumb"><li class="mr-1"><a href="/index.html">Home</a><li class="mr-1 active">Data Model</ol><h1 class="page-title"> <span> <i class="fas fa-fw fa-book"></i> Data Model </span></h1><div class="row three-cols-container"><div class="col-md-2 first-column"><ul class="side-nav"><li class="side-nav-title">Introduction<li> <a href="/docs.html">Overview</a><li> <a href="/installation.html">Installation</a><li> <a href="/getting-started.html">Getting Started</a><li class="side-nav-title">Developer Guide<li> <a href="/basic-concepts.html">Basic Concepts</a><li> <a href="/first-example.html">First Example</a><li> <a class="active" href="/data-model.html">Data Model</a><li> <a href="/intent-matching.html">Intent Matching</a><li> <a href="/using-rest.html">REST API</a><li> <a href="/server-and-probe.html">Server <span class="amp">&amp;</span> Probe</a><li> <a href="/configuration.html">Configuration</a><li> <a href="/metrics-and-tracing.html">Metrics <span class="amp">&amp;</span> Tracing</a><li> <a href="/integrations.html">Integrations</a><li class="side-nav-title">Tools<li> <a href="/tools/script.html"><code>nlpcraft.{sh|cmd}</code></a><li> <a href="/tools/test_framework.html">Test Framework</a><li> <a href="/tools/embedded_probe.html">Embedded Probe</a><li> <a href="/tools/sql_model_gen.html">SQL Model Generator</a><li> <a href="/tools/syn_tool.html">Synonyms Tool</a><li class="side-nav-title">Examples<li> <a href="/examples/alarm_clock.html">Alarm Clock</a><li> <a href="/examples/light_switch.html">Light Switch</a><li> <a href="/examples/weather_bot.html">Weather Bot</a><li> <a href="/examples/sql_model.html">SQL Model</a></ul></div><div class="col-md-8 second-column"><section id="overview"><h2 class="section-title">Model Overview <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></h2><p> Data model is a central concept in NLPCraft defining natural language interface to your data sources like a database or a SaaS application. NLPCraft employs <em>model-as-a-code</em> approach where entire data model is an implementation of <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModel.html">NCModel</a> interface which can be developed using any JVM programming language like Java, Scala, Kotlin, or Groovy.</p><p> A data model defines:</p><ul><li>Set of model <a href="#elements">elements</a> (a.k.a. named entities) to be detected in the user input.<li>Zero or more intents and their callbacks.<li>Common model configuration and various life-cycle callbacks.</ul><p> Note that model-as-a-code approach natively supports any software life cycle tools and frameworks like various build tools, CI/SCM tools, IDEs, etc. You don't have to use additional web-based tools to manage some aspects of your data models - your entire model and all of its components are part of your project source code.</p><p> Here's two quick examples of the fully-functional data model implementations (from <a href="/examples/light_switch.html">Light Switch</a> and <a href="/examples/alarm_clock.html">Alarm Clock</a> examples). You will find specific details about these implementations in the following sections:</p><nav><div class="nav nav-tabs" role="tablist"> <a class="nav-item nav-link active" data-toggle="tab" href="#scala-model-ex" role="tab"><code>LightSwitchModel.scala</code></a> <a class="nav-item nav-link" data-toggle="tab" href="#java-model-ex" role="tab"><code>AlarmModel.java</code></a></div></nav><div class="tab-content"><div class="tab-pane fade show active" id="scala-model-ex" role="tabpanel"><pre class="brush: scala">
package org.apache.nlpcraft.examples.lightswitch

import org.apache.nlpcraft.model.{NCIntentTerm, _}

class LightSwitchModel extends NCModelFileAdapter("lightswitch_model.yaml") {
    @NCIntentRef("ls")
    @NCIntentSample(Array(
        "Turn the lights off in the entire house.",
        "Switch on the illumination in the master bedroom closet.",
        "Get the lights on.",
        "Lights up in the kitchen.",
        "Please, put the light out in the upstairs bedroom.",
        "Set the lights on in the entire house.",
        "Turn the lights off in the guest bedroom.",
        "Could you please switch off all the lights?",
        "Dial off illumination on the 2nd floor.",
        "Please, no lights!",
        "Kill off all the lights now!",
        "No lights in the bedroom, please.",
        "Light up the garage, please!"
    ))
    def onMatch(
        @NCIntentTerm("act") actTok: NCToken,
        @NCIntentTerm("loc") locToks: List[NCToken]
    ): NCResult = {
        val status = if (actTok.getId == "ls:on") "on" else "off"
        val locations =
            if (locToks.isEmpty)
                "entire house"
            else
                locToks.map(_.meta[String]("nlpcraft:nlp:origtext")).mkString(", ")

        // Add HomeKit, Arduino or other integration here.

        // By default - return a descriptive action string.
        NCResult.text(s"Lights are [$status] in [${locations.toLowerCase}].")
    }
}
                </pre></div><div class="tab-pane fade show" id="java-model-ex" role="tabpanel"><pre class="brush: java">
package org.apache.nlpcraft.examples.alarm;

import org.apache.nlpcraft.model.*;
import java.time.*;
import java.time.format.*;
import java.util.*;

import static java.time.temporal.ChronoUnit.*;

public class AlarmModel extends NCModelFileAdapter {
    private static final DateTimeFormatter FMT =
        DateTimeFormatter.ofPattern("HH'h' mm'm' ss's'").withZone(ZoneId.systemDefault());

    private final Timer timer = new Timer();

    public AlarmModel() {
        // Loading the model from the file in the classpath.
        super("alarm_model.json");
    }

    @NCIntentRef("alarm")
    @NCIntentSample({
        "Ping me in 3 minutes",
        "Buzz me in an hour and 15mins",
        "Set my alarm for 30s"
    })
    NCResult onMatch(
        NCIntentMatch ctx,
        @NCIntentTerm("nums") List&lt;NCToken&gt; numToks
    ) {
        if (ctx.isAmbiguous())
            throw new NCRejection("Not exact match.");

        long unitsCnt = numToks.stream().map(tok -&gt; (String)tok.meta("num:unit")).distinct().count();

        if (unitsCnt != numToks.size())
            throw new NCRejection("Ambiguous time units.");

        LocalDateTime now = LocalDateTime.now();
        LocalDateTime dt = now;

        for (NCToken num : numToks) {
            String unit = num.meta("nlpcraft:num:unit");

            // Skip possible fractional to simplify.
            long v = ((Double)num.meta("nlpcraft:num:from")).longValue();

            if (v <= 0)
                throw new NCRejection("Value must be positive: " + unit);

            switch (unit) {
                case "second": { dt = dt.plusSeconds(v); break; }
                case "minute": { dt = dt.plusMinutes(v); break; }
                case "hour": { dt = dt.plusHours(v); break; }
                case "day": { dt = dt.plusDays(v); break; }
                case "week": { dt = dt.plusWeeks(v); break; }
                case "month": { dt = dt.plusMonths(v); break; }
                case "year": { dt = dt.plusYears(v); break; }

                default:
                    // It shouldn't be assert, because 'datetime' unit can be extended.
                    throw new NCRejection("Unsupported time unit: " + unit);
            }
        }

        long ms = now.until(dt, MILLIS);

        assert ms &gt;= 0;

        timer.schedule(
            new TimerTask() {
                @Override
                public void run() {
                    System.out.println(
                        "BEEP BEEP BEEP for: " + ctx.getContext().getRequest().getNormalizedText() + ""
                    );
                }
            },
            ms
        );

        return NCResult.text("Timer set for: " + FMT.format(dt));
    }

    @Override
    public void onDiscard() {
        // Clean up when model gets discarded (e.g. during testing).
        timer.cancel();
    }
}
                </pre></div></div><p> Further sub-sections will provide details on model's static configuration and dynamic programmable logic implementation.</p></section><section id="dataflow"><h2 class="section-title">Model Dataflow <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></h2><figure> <img alt="data model dataflow" class="img-fluid" src="/images/homepage-fig1.1.png"><figcaption><b>Fig 1.</b> NLPCraft Architecture</figcaption></figure><p> Let's review the general dataflow of the user request in NLPCraft (from right to left). User request starts with the user application (like a chatbot or NLI-based system) making a REST call using <a href="/using-rest.html">NLPCraft REST API</a>. That REST call carries among other things the input text and data model ID, and it arrives first to the REST server.</p><p> Upon receiving the user request, the REST server performs NLP pre-processing converting the input text into a sequence of tokens and enriching them with additional information. Once finished, the sequence of tokens is sent further down to the probe where the requested data model is deployed.</p><p> Upon receiving that sequence of tokens, the data probe further enriches it based on the user data model and <a href="/intent-matching.html">matches</a> it against declared intents. When a matching intent is found its callback method is called and its result travels back from the data probe to the REST server and eventually to the user that made the REST call.</p><div class="bq info"><p> <b>Security <span class="amp">&</span> Isolation</b></p><p> Note that in this architecture the user-defined data model is fully isolated from the REST server accepting user calls. Users never access data probes and hence data models directly. Typically REST server should be deployed in DMZ and only <em>ingress connectivity is required</em> from the REST server to data probes.</p></div></section><section id="lifecycle"><h2 class="section-title">Model Lifecycle <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></h2><p> Data model is an implementation of <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModel.html">NCModel</a> interface. <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModel.html">NCModel</a> interface has defaults for most of its methods. These are the only methods that must to be implemented by its sub-class:</p><ul><li><a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html#getId()">getId()</a><li><a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html#getName()">getName()</a><li><a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html#getVersion()">getVersion()</a></ul><p> You can either implement <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModel.html">NCModel</a> interface directly or use one of the adapters (recommended in most cases):</p><ul><li> <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelAdapter.html">NCModelAdapter</a> - when entire model definition is in sub-class source code.<li> <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelFileAdapter.html">NCModelFileAdapter</a> - when using external JSON/YAML declaration for model definition.</ul><p> Note that you can also use 3rd party IoC frameworks like <a target=_ href="https://spring.io">Spring</a> to construct your data models. See <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelFactory.html">NCModelFactory</a> for more information.</p><div class="bq success"><div class="bq-idea-container"><div><div>💡</div></div><div><p> <b>Using Adapters</b></p><p> It is recommended to use one of the adapter classes when defining your own data model in the most uses cases.</p></div></div></div><h2 id="deployment" class="section-title">Deployment <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></h2><p> Data models get <a href="/server-and-probe.html">deployed</a> to and hosted by the data probes - a lightweight container whose job is to host data models and securely transfer requests between REST server and the data models. When a data probe starts it reads its <a href="/server-and-probe.html">configuration</a> to see which models to deploy.</p><p> Note that data probes don't support hot-redeployment. To redeploy the data model you need to restart the data probe. Note also that data probe can be started in <a href="/tools/embedded_probe.html">embedded mode</a>, i.e. it can be started from within an existing JVM process like user application.</p><h2 id="callbacks" class="section-title">Callbacks <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></h2><p> There are two lifecycle callbacks on <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModel.html">NCModel</a> interface (by way of extending <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCLifecycle.html">NCLifecycle</a> interface) that you can override to affect the the default lifecycle behavior:</p><ul><li> <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCLifecycle.html#onInit()">onInit()</a> - called right after the model was loaded and deployed.<li> <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCLifecycle.html#onDiscard()">onDiscard()</a> - called to discard the data model when and only when data probe is orderly shutting down.</ul><p> There are also several callbacks that you can override to affect model behavior during <a href="/intent-matching.html#model_callbacks">intent matching</a> to perform logging, debugging, statistic or usage collection, explicit update or initialization of conversation context, security audit or validation:</p><ul><li> <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModel.html#onParsedVariant(org.apache.nlpcraft.model.NCVariant)">onParsedVariant(...)</a><li> <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModel.html#onContext(org.apache.nlpcraft.model.NCContext)">onContext(...)</a><li> <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModel.html#onMatchedIntent(org.apache.nlpcraft.model.NCIntentMatch)">onMatchedIntent(...)</a><li> <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModel.html#onResult(org.apache.nlpcraft.model.NCIntentMatch,org.apache.nlpcraft.model.NCResult)">onResult(...)</a><li> <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModel.html#onError(org.apache.nlpcraft.model.NCContext,java.lang.Throwable)">onError(...)</a><li> <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModel.html#onRejection(org.apache.nlpcraft.model.NCIntentMatch,org.apache.nlpcraft.model.NCRejection)">onRejection(...)</a></ul><div class="bq info"> <b>Conversation Reset</b><p> Callbacks <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModel.html#onContext(org.apache.nlpcraft.model.NCContext)">onContext(...)</a> and <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModel.html#onMatchedIntent(org.apache.nlpcraft.model.NCIntentMatch)">onMatchedIntent(...)</a> are especially handy to perform a soft reset on the conversation context. Read their Javadoc documentation to understand these callbacks protocol.</p></div><div class="bq info"> <b>Lifecycle Components</b><p> Note that both the server and the probe provide their own lifecycle components support. When registered in the probe or server configuration the lifecycle components will be called during various stages of the probe or server startup or shutdown procedures. These callbacks can be used to control lifecycle of external libraries and systems that the data probe or the server rely on, i.e. <a href="metrics-and-tracing.html">OpenCensus exporters</a>, security environment, devops hooks, etc.</p><p> See server and probe <a href="">configuration</a>.</p></div></section><section id="config"><h2 class="section-title">Model Configuration <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></h2><p> Apart from mandatory model <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html#getId()">ID</a>, <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html#getName()">name</a> and <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html#getVersion()">version</a> there is a number of static model configurations that you can set. All of these properties have sensible defaults that you can override, when required, in either sub-classes or via external JSON/YAML declaration:</p><ul><li><a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html#getAdditionalStopWords()">getAdditionalStopWords</a><li><a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html#getEnabledBuiltInTokens()">getEnabledBuiltInTokens</a><li><a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html#getExcludedStopWords()">getExcludedStopWords</a><li><a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html#getMaxFreeWords()">getMaxFreeWords</a><li><a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html#getMaxSuspiciousWords()">getMaxSuspiciousWords</a><li><a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html#getMaxTokens()">getMaxTokens</a><li><a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html#getMaxTotalSynonyms()">getMaxTotalSynonyms</a><li><a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html#getMaxUnknownWords()">getMaxUnknownWords</a><li><a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html#getMaxWords()">getMaxWords</a><li><a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html#getMetadata()">getMetadata</a><li><a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html#getMinNonStopwords()">getMinNonStopwords</a><li><a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html#getMinTokens()">getMinTokens</a><li><a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html#getMinWords()">getMinWords</a><li><a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html#getSuspiciousWords()">getSuspiciousWords</a><li><a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html#isDupSynonymsAllowed()">isDupSynonymsAllowed</a><li><a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html#isNonEnglishAllowed()">isNonEnglishAllowed</a><li><a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html#isNoNounsAllowed()">isNoNounsAllowed</a><li><a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html#isNotLatinCharsetAllowed()">isNotLatinCharsetAllowed</a><li><a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html#isNoUserTokensAllowed()">isNoUserTokensAllowed</a><li><a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html#isPermutateSynonyms()">isPermutateSynonyms</a><li><a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html#isSparse()">isSparse</a><li><a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html#isSwearWordsAllowed()">isSwearWordsAllowed</a></ul><h2 class="section-title">External JSON/YAML Declaration <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></h2><p> You can move out all the static model configuration into an external JSON or YAML file. To load that configuration you need to use <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelFileAdapter.html">NCModelFileAdapter</a> adapter when creating your data model. Here are JSON and YAML sample templates and you can find more details in <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModel.html">NCModel</a> Javadoc and in <a target="github" href="https://github.com/apache/incubator-nlpcraft/tree/master/nlpcraft-examples">examples</a>.</p><nav><div class="nav nav-tabs" role="tablist"> <a class="nav-item nav-link active" data-toggle="tab" href="#model-json" role="tab">JSON</a> <a class="nav-item nav-link" data-toggle="tab" href="#model-yaml" role="tab">YAML</a></div></nav><div class="tab-content"><div class="tab-pane fade show active" id="model-json" role="tabpanel"><pre class="brush: js">
{
     "id": "user.defined.id",
     "name": "User Defined Name",
     "version": "1.0",
     "description": "Short model description.",
     "enabledBuiltInTokens": ["google:person", "google:location"]
     "macros": [],
     "metadata": {},
     "elements": [
         {
             "id": "x:id",
             "description": "",
             "groups": [],
             "parentId": "",
             "synonyms": [],
             "metadata": {},
             "values": []
         }
     ],
     ...
     "intents": []
}
                </pre></div><div class="tab-pane fade show" id="model-yaml" role="tabpanel"><pre class="brush: js">
id: "user.defined.id"
name: "User Defined Name"
version: "1.0"
description: "Short model description."
macros:
enabledBuiltInTokens:
elements:
  - id: "x:id"
    description: ""
    synonyms:
    groups:
    values:
    parentId:
    metadata:
...
intents:
                </pre></div></div><div class="bq success"><div class="bq-idea-container"><div><div>💡</div></div><div> Note that using JSON/YAML-based configuration is a <b>canonical way</b> for creating data models in NLPCraft as it allows to cleanly separate static configuration from model's programmable logic.</div></div></div></section><section id="elements"><h2 class="section-title">Model Elements <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></h2><p> Data model element defines a named entity that will be detected in the user input. A model element typically is one or more individual words that have a consistent semantic meaning and typically denote a real-world object, such as persons, locations, number, date and time, organizations, products, etc. Such object can be abstract or have a physical existence.</p><p> Model element is an implementation of <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCElement.html">NCElement</a> interface. <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModel.html">NCModel</a> provides its elements via <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html#getElements()">getElements()</a> method. Typically, you create model elements by either:</p><ul><li> Implementing <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCElement.html">NCElement</a> interface directly, or<li> Using JSON or YAML static model configuration (the preferred way in most cases).</ul><p> Note that when you use external static model configuration with JSON or YAML you can still modify it after it was loaded using <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelFileAdapter.html">NCModelFileAdapter</a> adapter. It is particular convenient when synonyms or values are loaded separately from, or in addition to, the model elements themselves, i.e. from a database or another file.</p><div class="bq info"><p> <b>Model Element <span class="amp">&</span> Named Entity <span class="amp">&</span> Token</b></p><p> Terms 'model element', 'named entity' and 'token' are used throughout this documentation relatively interchangeably:</p><dl><dt>Model Element<dd> Denotes a named entity <em>declared</em> in NLPCraft model.<dt>Token<dd> Denotes a model element that was <em>detected</em> by NLPCraft in the user input.<dt>Named Entity<dd> Denotes a classic term, i.e. one or more individual words that have a consistent semantic meaning and typically define a real-world object.</dl></div><p> Although model element and named entity describe a similar concept, the NLPCraft model elements provide a much more powerful instrument. Unlike named entities support in other projects NLPCraft model elements have number of unique capabilities:</p><ul><li> New model elements can be added declaratively via a subset of NLPCraft <a href="/intent-matching.html">IDL</a>, regex and macro expansion.<li> New model elements can be also added programmatically for ultimate flexibility.<li> Model elements can have many-to-many group memberships.<li> Model elements can form a hierarchical structure.<li> Model elements are composable, i.e. a model element can use other model elements in its definition.<li> Model elements can be declared with user defined metadata.<li> Model elements provide normalized values and can define their own "proper nouns".<li> Model elements can compose named entities from many <a href="integrations.html#nlp">3rd party libraries</a>.<li> All properties of model elements (id, groups, parent & ancestors, values, and metadata) can be used in NLPCraft <a href="/intent-matching.html">IDL</a>.</ul><h2 class="section-title">User vs. Built-In Elements <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></h2><p> Additionally to the model elements that are defined by the user in the data model (i.e. <em>user model elements</em>) NLPCraft provides its own <a href="#builtin">built-in named entities</a> as well as the integration with number of <a href="integrations.html#nlp">3rd party projects</a>. You can think of these built-in elements as if they were implicitly defined in your model - you can use them in exactly the same way as if you defined them yourself. You can find more information on how to configure external token providers in <a href="/integrations.html#nlp">Integrations</a> section.</p><p> Note that you can't directly change group membership, parent-child relationship or metadata of the built-in elements. You can, however, "wrap" built-in entity into your own one using <code>^^{tok_id() == 'external.id'}^^</code> <a href="/intent-matching.html">IDL</a> expression where you can define all necessary additional configuration properties (more on that below).</p><span id="synonyms" class="section-sub-title">Synonyms <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></span><p> NLPCraft uses fully deterministic named entity recognition and is not based on statistical approaches that would require pre-existing marked up data sets and extensive training. For each model element you can either provide a set of synonyms to match on or specify a piece of code that would be responsible for detecting that named entity (discussed below). A synonym can have one or more individual words. Note that element's ID is its implicit synonym so that even if no additional synonyms are defined at least one synonym always exists. Note also that synonym matching is performed on <em>normalized</em> and <em>stemmatized</em> forms of both a synonym and user input.</p><p> Here's an example of a simple model element definition in JSON:</p><pre class="brush: js, highlight: [6,7,8,9,10,11,12]">
            ...
            "elements": [
                {
                    "id": "transport.vehicle",
                    "description": "Transportation vehicle",
                    "synonyms": [
                        "car",
                        "truck",
                        "light duty truck"
                        "heavy duty truck"
                        "sedan",
                        "coupe"
                    ]
                }
            ]
            ...
        </pre><p> While adding multi-word synonyms looks somewhat trivial - in real models, the naive approach can lead to thousands and even tens of thousands of possible synonyms due to words, grammar, and linguistic permutations - which quickly becomes untenable if performed manually.</p><p> NLPCraft provides an effective tool for a compact synonyms representation. Instead of listing all possible multi-word synonyms one by one you can use combination of following techniques:</p><ul><li><a href="#macros">Macros</a><li><a href="#regex">Regular expressions</a><li><a href="#option-groups">Option Groups</a><li><a href="#dsl">IDL expressions</a><li><a href="#programmable_ners">Programmable NERs</a></ul><p> Each whitespace separated string in the synonym can be either a regular word (like in the above transportation example where it will be matched on using its normalized and stemmatized form) or one of the above expression.</p><p> Note that this synonyms definition is also used in the following <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCElement.html">NCElement</a> methods:</p><ul><li><code>getSynonyms()</code> - gets synonyms to match on.<li><code>getValues()</code> - get values to match on (see <a href="#values">below</a>).</ul><span id="macros" class="section-sub-title">Macros <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></span><p> Listing all possible multi-word synonyms for a given element can be a time-consuming task. Macros together with option groups allow for significant simplification of this task. Macros allow you to give a name to an often used set of words or option groups and reuse it without repeating those words or option groups again and again. A model provides a list of macros via <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html#getMacros()">getMacros()</a> method. Each macro has a name in a form of <code>&lt;X&gt;</code> where <code>X</code> is any string, and a string value. Note that macros can be nested (but not recursive), i.e. macro value can include references to other macros. When macro name <code>X</code> is encountered in the synonym it gets recursively replaced with its value.</p><p> Here's a code snippet of macro definitions using JSON definition:</p><pre class="brush: js">
            "macros": [
                {
                    "name": "&lt;A&gt;",
                    "macro": "aaa"
                },
                {
                    "name": "&lt;B&gt;",
                    "macro": "&lt;A&gt; bbb"
                },
                {
                    "name": "&lt;C&gt;",
                    "macro": "&lt;A&gt; bbb {z|w}"
                }
             ]
        </pre><span id="option-groups" class="section-sub-title">Option Groups <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></span><p> Option groups are similar to wildcard patterns that operates on a single word base. One line of option group expands into one or more individual synonyms. Option groups is the key mechanism for shortened synonyms notation. The following examples demonstrate how to use option groups.</p><p> Consider the following macros defined below (note that macros <code>&lt;B&gt;</code> and <code>&lt;C&gt;</code> are nested):</p><table class="gradient-table"><thead><tr><th>Name<th>Value<tbody><tr><td><code>&lt;A&gt;</code><td><code>aaa</code><tr><td><code>&lt;B&gt;</code><td><code>&lt;A&gt; bbb</code><tr><td><code>&lt;C&gt;</code><td><code>&lt;A&gt; bbb {z|w}</code></table><p> Then the following option group expansions will occur in these examples:</p><table class="gradient-table"><thead><tr><th>Synonym<th>Synonym Expansions<tbody><tr><td><code>&lt;A&gt; {b|_} c</code><td> <code>"aaa b c"</code><br> <code>"aaa c"</code><tr><td><code>&lt;B&gt; {b|_} c</code><td> <code>"aaa bbb b c"</code><br> <code>"aaa bbb c"</code><tr><td><code>{b|\{\_\}}</code><td> <code>"b"</code><br> <code>"b {_}"</code><tr><td><code>a {b|_}. c</code><td> <code>"a b. c"</code><br> <code>"a . c"</code><tr><td><code>a .{b, |_}. c</code><td> <code>"a .b, . c"</code><br> <code>"a .. c"</code><tr><td><code> a {{b|c}|_}.</code><td> <code>"a ."</code><br> <code>"a b."</code><br> <code>"a c."</code><tr><td><code>a {{{&lt;C&gt;}}|{_}} c</code><td> <code>"a aaa bbb z c"</code><br> <code>"a aaa bbb w c"</code><br> <code>"a c"</code><tr><td><code>{{{a}}} {b||_|{{_}}||_}</code><td> <code>"a b"</code><br> <code>"a"</code></table><p> Specifically:</p><ul><li><code>{A|B}</code> denotes either <code>A</code> or <code>B</code>.<li><code>{A|B|_}</code> denotes either <code>A</code> or <code>B</code> or nothing.<li>Excessive curly brackets are ignored, when safe to do so.<li>Macros cannot be recursive but can be nested.<li>Option groups can be nested.<li> <code>'\'</code> (backslash) can be used to escape <code>'{'</code>, <code>'}'</code>, <code>'|'</code> and <code>'_'</code> special symbols used by the option groups.<li>Excessive whitespaces are trimmed when expanding option groups.</ul><p> We can rewrite our transportation model element in a more efficient way using macros and option groups. Even though the actual length of definition hasn't changed much it now auto-generates many dozens of synonyms we would have to write out manually otherwise:</p><pre class="brush: js, highlight: [4,5,14]">
            ...
            "macros": [
                {
                    "name": "&lt;TRUCK_TYPE&gt;",
                    "macro": "{ {light|super|heavy|medium} duty|half ton|1/2 ton|3/4 ton|one ton}"
                }
             ]
            "elements": [
                {
                    "id": "transport.vehicle",
                    "description": "Transportation vehicle",
                    "synonyms": [
                        "car",
                        "{&lt;TRUCK_TYPE&gt;|_} {pickup|_} truck"
                        "sedan",
                        "coupe"
                    ]
                }
            ]
            ...
        </pre><span id="regex" class="section-sub-title">Regular Expressions <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></span><p> Any individual synonym word that starts and ends with <code>//</code> (two forward slashes) is considered to be Java regular expression as defined in <code>java.util.regex.Pattern</code>. Note that regular expression can only span a single word, i.e. only individual words from the user input will be matched against given regular expression and no whitespaces are allowed within regular expression. Note also that option group special symbols <code>{</code>, <code>}</code>, <code>|</code> and <code>_</code> have to be escaped in the regular expression using <code>\</code> (backslash).</p><p> For example, the following synonym:</p><pre class="brush: js">
        "synonyms": [
            "{foo|//[bar].+//}}"
        ]
        </pre><p> will match word <code>foo</code> or any other strings that start with <code>bar</code> as long as this string doesn't contain whitespaces.</p><div class="bq info"> <b>Regular Expressions Performance</b><p> It's important to note that regular expressions can significantly affect the performance of the NLPCraft processing if used uncontrolled. Use it with caution and test the performance of your model to ensure it meets your requirements.</p></div><span id="values" class="section-sub-title">Element Values <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></span><p> Model element can have an optional set of special synonyms called <em>values</em> or "proper nouns" for this element. Unlike basic synonyms, each value is a pair of a name and a set of standard synonyms by which that value, and ultimately its element, can be recognized in the user input. Note that the value name itself acts as an implicit synonym even when no additional synonyms added for that value.</p><p> When a model element is recognized it is made available to the model's matching logic as an instance of the <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCToken.html">NCToken</a> interface. This interface has a method <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCToken.html#getValue()">getValue()</a> which returns the name of the value, if any, by which that model element was recognized. That value name can be further used in intent matching.</p><p> To understand the importance of the values consider the following changes to our transportation example model:</p><pre class="brush: js, highlight: [19,20,21,22,23,24,25,26,27,28,29,30]">
            ...
            "macros": [
                {
                    "name": "&lt;TRUCK_TYPE&gt;",
                    "macro": "{light duty|heavy duty|half ton|1/2 ton|3/4 ton|one ton|super duty}"
                }
             ]
            "elements": [
                {
                    "id": "transport.vehicle",
                    "description": "Transportation vehicle",
                    "synonyms": [
                        "car",
                        "{&lt;TRUCK_TYPE&gt;|_} {pickup|_} truck"
                        "sedan",
                        "coupe"
                    ],
                    "values": [
                        {
                            "value": "mercedes",
                            "synonyms": ["mercedes-ben{z|s}", "mb", "ben{z|s}"]
                        },
                        {
                            "value": "bmw",
                            "synonyms": ["{bimmer|bimer|beemer}", "bayerische motoren werke"]
                        }
                        {
                            "value": "chevrolet",
                            "synonyms": ["chevy"]
                        }
                    ]
                }
            ]
            ...
        </pre><p> With that setup <code>transport.vehicle</code> element will be recognized by any of the following input string:</p><ul><li><code>car</code><li><code>benz</code> (with value <code>mercedes</code>)<li><code>3/4 ton pickup truck</code><li><code>light duty truck</code><li><code>chevy</code> (with value <code>chevrolet</code>)<li><code>bimmer</code> (with value <code>bmw</code>)<li><code>transport.vehicle</code></ul><span id="groups" class="section-sub-title">Element Groups <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></span><p> Each model element always belongs to one or more groups. Model element provides its groups via <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCElement.html#getGroups()">getGroups()</a> method. By default, if element group is not specified, the element ID will act as its default group ID. Group membership is a quick and easy way to organise similar model elements together and use this categorization in <a href="/intent-matching.html">IDL</a> intents.</p><p> Note that the proper grouping of the elements is also necessary for the correct operation of Short-Term-Memory (STM) in the conversational context. Consider a <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCToken.html">NCToken</a> that represents a previously found model element that is stored in the conversation. Such token will be overridden in the conversation by the more <b>recent token</b> from the <b>same group</b> - a critical rule of maintaining the proper conversational context. See <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCConversation.html">NCConversation</a> for mode details.</p><span id="parent" class="section-sub-title">Element Parent <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></span><p> Each model element can form an optional hierarchical relationship with other element by specifying its parent element ID via <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCElement.html#getParentId()">getParentID()</a> method. The main idea here is that sometimes model elements can act not only individually but their place in the hierarchy can be important too.</p><p> For example, we could have designed our transportation example model in a different way by using multiple model elements linked with this hierarchy:</p><pre>
+-- vehicle
|     +--truck
|     |    |-- light.duty.truck
|     |    |-- heavy.duty.truck
|     |    +-- medium.duty.truck
|     +--car
|     |   |-- coupe
|     |   |-- sedan
|     |   |-- hatchback
|     |   +-- wagon
        </pre><p> Then in our intent, for example, we could look for any token with root parent ID <code>vehicle</code> or immediate parent ID <code>truck</code> or <code>car</code> without a need to match on all current and future individual sub-IDs. For example:</p><pre class="brush: idl">
            intent=vehicle.intent term~{has(tok_ancestors(), 'vehicle')}
            intent=truck.intent term~{tok_parent() == 'truck'}
            intent=car.intent term~{tok_parent() == 'car'}
        </pre></section><section id="dsl" ><h2 class="section-title">IDL Expressions <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></h2><p> Any individual synonym word that that starts and ends with <code>^^</code> is a <a href="/intent-matching.html#idl">IDL expression.</a> IDL expression inside of <code>^^ ... ^^</code> markers allows you to define a predicate on already parsed and detected token. It is very important to note that unlike all other synonyms the IDL expression operates on a already detected <em>token</em>, not on an individual unparsed <em>word</em>.</p><p> IDL expressions allows you to <em>compose</em> named entities, i.e. use one name entity when defining another one. For example, we could define a model element for the race car using our previous transportation example (note how synonym on <b>line 18</b> references the element defined on <b>line 4</b>):</p><pre class="brush: js, highlight: [4, 18]">
            ...
            "elements": [
                {
                    "id": "transport.vehicle",
                    "description": "Transportation vehicle",
                    "synonyms": [
                        "car",
                        "truck",
                        "{light|heavy|super|medium} duty {pickup|_} truck"
                        "sedan",
                        "coupe"
                    ]
                },
                {
                    "id": "race.vehicle",
                    "description": "Race vehicle",
                    "synonyms": [
                        "{race|speed|track} ^^{tok_id() == 'transport.vehicle'}^^"
                    ]
                }

            ]
            ...
        </pre><div class="bq warn"><p> <b>Greedy NERs <span class="amp">&</span> Synonyms Conflicts</b></p><p> Note that in the above example you need to ensure that words <code>race</code>, <code>speed</code> or <code>track</code> are not part of the <code>transport.vehicle</code> token. It is particular important for the 3rd party NERs where specific rules about what words can or cannot be part of the token are unclear or undefined. In such cases the only remedy is to extensively test with 3rd party NERs and verify the synonyms recognition in data probe logs.</p></div><p> Another often used use case is to wrap 3rd party named entities to add group membership, metadata or hierarchical relationship to the externally defined named entity. For example, you can wrap <code>google:location</code> token and add group membership for <code>my_group</code> group:</p><pre class="brush: js, highlight: [6,8]">
            ...
            "elements": [
                {
                    "id": "google.loc.wrap",
                    "description": "Wrapper for google location",
                    "groups": ["my_group"],
                    "synonyms": [
                        "^^{tok_id() == 'google:location'}^^"
                    ]
                }
            ]
            ...
        </pre><span id="dsl-syntax" class="section-sub-title">IDL Expression Syntax <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></span><p> IDL expressions are a subset of overall <a href="/intent-matching.html#idl">IDL syntax</a>. You can review formal <a target="github" href="https://github.com/apache/incubator-nlpcraft/blob/master/nlpcraft/src/main/scala/org/apache/nlpcraft/model/intent/compiler/antlr4/NCIdl.g4">ANTLR4 grammar</a> but basically an IDL expression for synonym is a term expression with the optional alias at the beginning. Here's an example of IDL expression defining a synonym for the population of any city in France:</p><pre class="brush: js">
            "synonyms": [
                "population {of|for} ^^[city]{tok_id() == 'nlpcraft:city' && lowercase(meta_tok('city:country')) == 'france'}^^"
            ]
        </pre><b>NOTES:</b><ul><li>Optional alias <code>city</code> can be used to access a constituent part token (with ID <code>nlpcraft:city</code>).<li> The expression between <code>{</code> and <code>}</code> brackets is a standard IDL term expression.</ul></section><section id="programmable_ners"><h2 class="section-title">Programmable NERs <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></h2><p> By default, the data model detects its elements by their synonyms, regexp or IDL expressions. However, in some cases these methods are either not expressive enough or cannot be used. For example, detecting model elements based on neural networks or integration with a non-standard 3rd-party NER components. In such cases, a user-defined parser can be defined for the model that would allow the user to define its own arbitrary NER logic to detect the model elements in the user input programmatically. Note that a custom parser can detect any number of model elements.</p><p> Model provides its custom parsers via <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html#getParsers()">getParsers()</a> method.</p></section><section id="logic"><h2 class="section-title">Model Logic <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></h2><p> When a user sends its request via REST API it is received by the REST server. Upon receipt, the REST server does the basic NLP processing and enriching. Once finished, the REST server sends the enriched request down to a specific data probe selected based on the requested data model.</p><p> The model logic is defined in <a href="intent-matching.html">intents</a>, specifically in the intent callbacks that get called when their intent is chosen as a winning match against the user request. Below we will quickly discuss the key APIs that are essential for developing intent callbacks. Note that this does now replace a more detailed <a target=_ href="/apis/latest/index.html">Javadoc</a> documentation that you are encouraged to read through as well:</p><ul><li>Interface <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html">NCModelView</a><li>Interface <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCIntentMatch.html">NCIntentMatch</a><li>Interface <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCContext.html">NCContext</a><li>Interface <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCRequest.html">NCRequest</a><li>Interface <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCToken.html">NCToken</a><li>Class <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCResult.html">NCResult</a></ul><h2 class="section-title">Interface <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html">NCModelView</a> <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></h2><p> This interface provides read-only view on data model. Model view defines a declarative, or configurable, part of the model. All properties in this interface can be defined or overridden in JSON/YAML external presentation when used with <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelFileAdapter.html">NCModelFileAdapter</a> adapter.</p><h2 class="section-title">Interface <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCIntentMatch.html">NCIntentMatch</a> <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></h2><p> This interface defines a context of a particular intent match. It can be passed into the callback of the matched intent and provides the following:</p><ul><li>ID of the matched intent.<li>Specific parsing variant that was matched against this intent.<li>Access to the original query context (<a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCContext.html">NCContext</a>).<li>Various access APIs for intent tokens.</ul><h2 class="section-title">Interface <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCContext.html">NCContext</a> <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></h2><p> This interface provides all available data about the parsed user input and all its supplemental information. It's accessible from <code>NCIntentMatch</code> interface and provide large amount of information to the intent callback logic:</p><ul><li> Server request ID. Server request is defined as a processing of one user input sentence.<li> Reference to <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCConversation.html">NCConversation</a> for controlling STM of conversation manager and dialog flow.<li> Reference to <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html">NCModelView</a> instance that the intent callback method belongs to giving access to entire static model configuration.<li> Reference to <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCRequest.html">NCRequest</a> that provides detailed information about the user input.<li> List of parsing variants provided by <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCContext.html#getVariants()">getVariants()</a> method. When the user sentence gets parsed into individual tokens (i.e. detected model elements) there is generally more than one way to do it. This ambiguity is perfectly fine because only the data model has all the necessary information to select one parsing variant that fits that model the best. Without the data model there isn't enough context to determine which variant is the best fitting. Method <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCContext.html#getVariants()">getVariants()</a> returns list of all parsing variants for a given user input.</ul><h2 class="section-title">Interface <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCRequest.html">NCRequest</a> <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></h2><p> <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCRequest.html">NCRequest</a> interface is one of the several important entities in Data Model API that you as a model developer will be working with. You should review its <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCRequest.html">Javadoc</a> but here is an outline of the information it provides:</p><ul><li> Information about the user that issued the request.<li> User agent and remote address, if any available, of the user's application that made the initial REST call.<li> Original request text, timestamp of its receipt, and server request ID.</ul><h2 class="section-title">Interface <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCToken.html">NCToken</a> <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></h2><p> <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCToken.html">NCToken</a> object is another key abstraction in Data Model API. A token is a detected model element and is a part of a fully parsed user input. Sequence of tokens represents parsed user input. A single token corresponds to a one or more words, sequential or not, in the user sentence.</p><p> Most of the token's information is stored in map-based metadata accessible via <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCMetadata.html#getMetadata()">getMetadata()</a> method. Depending on the token ID each token will have different set of <a href="#meta">metadata properties</a>. Some common NLP properties are always present for tokens of all types.</p><h2 class="section-title">Class <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCResult.html">NCResult</a> <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></h2><p> This class defines the result returned from model's intent callbacks. Result consists of the text body and the type. The result types are similar in notion to MIME type and have specific meaning only for REST applications that interpret them accordingly. For example, the REST client interfacing between NLPCraft and Amazon Alexa or Apple HomeKit could only accept text result type and ignore everything else.</p><h2 class="section-title">Interface <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCMetadata.html">NCMetadata</a> <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></h2><p> Interface <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCMetadata.html">NCMetadata</a> provides support for mutable runtime-only metadata. This interface can be used to attach user-defined runtime data to variety of different objects in NLPCraft API. This interface is implemented by the following types:</p><ul><li><a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCCompany.html">NCCompany</a><li><a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCConversation.html">NCConversation</a><li><a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCCustomElement.html">NCCustomElement</a><li><a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCElement.html">NCElement</a><li><a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModel.html">NCModel</a><li><a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html">NCModelView</a><li><a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCToken.html">NCToken</a><li><a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCResult.html">NCResult</a></ul></section><section id="builtin"><h2 class="section-title">Built-In Tokens <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></h2><p> NLPCraft provides a number of built-in model elements (i.e. tokens) including the <a href="integrations.html">integration</a> with several popular 3rd party NER frameworks. Table below provides information about these built-in tokens. Section about <a href="#meta">token metadata</a> provides further information about <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCMetadata.html#getMetadata()">metadata</a> that each type of token carries.</p><p> Built-in tokens have to be explicitly enabled on both the REST server and in the model. See <code>nlpcraft.server.tokenProviders</code> configuration property and <a target="javadoc" href="apis/latest/org/apache/nlpcraft/model/NCModelView.html#getEnabledBuiltInTokens()">NCModelView#getEnabledBuiltInTokens()</a> method for more details. By default, only NLPCraft tokens are enabled (token ID starting with <code>nlpcraft</code>).</p><table class="gradient-table"><thead><tr><th>Token ID<th>Description<th>Example<tbody><tr><td><code>nlpcraft:nlp</code><td><p> This token denotes a word (always a single word) that is not a part of any other token. It's also call a free-word, i.e. a word that is not linked to any other detected model element.</p><p> <b>NOTE:</b> the metadata from this token defines a common set of NLP properties and is present in every other token as well.</p><td><ul><li>Jamie goes <code>home</code> (assuming that a word 'home' does not belong to any model element).</ul><tr><td><code>nlpcraft:date</code><td> This token denotes a date range. It recognizes dates from 1900 up to 2023. Note that it does not currently recognize time component.<td><ul><li>Meeting <code>next tuesday</code>.<li>Report for entire <code>2018 year</code>.<li>Data <code>from 1/1/2017 to 12/31/2018</code>.</ul><tr><td><code>nlpcraft:num</code><td> This token denotes a single numeric value or numeric condition.<td><ul><li>Price <code>&gt; 100</code>.<li>Price is <code>less than $100</code>.</ul><tr><td><code>nlpcraft:continent</code><td> This token denotes a geographical continent.<td><ul><li>Population of <code>Africa</code>.<li>Surface area of <code>America</code>.</ul><tr><td><code>nlpcraft:subcontinent</code><td> This token denotes a geographical subcontinent.<td><ul><li>Population of <code>Alaskan peninsula</code>.<li>Surface area of <code>South America</code>.</ul><tr><td><code>nlpcraft:region</code><td> This token denotes a geographical region/state.<td><ul><li>Population of <code>California</code>.<li>Surface area of <code>South Dakota</code>.</ul><tr><td><code>nlpcraft:country</code><td> This token denotes a country.<td><ul><li>Population of <code>France</code>.<li>Surface area of <code>USA</code>.</ul><tr><td><code>nlpcraft:city</code><td> This token denotes a city.<td><ul><li>Population of <code>Paris</code>.<li>Surface area of <code>Washington DC</code>.</ul><tr><td><code>nlpcraft:metro</code><td> This token denotes a metro area.<td><ul><li>Population of <code>Cedar Rapids-Waterloo-Iowa City & Dubuque, IA</code> metro area.<li>Surface area of <code>Norfolk-Portsmouth-Newport News, VA</code>.</ul><tr><td><code>nlpcraft:sort</code><td> This token denotes a sorting or ordering.<td><ul><li>Report <code>sorted from top to bottom</code>.<li>Analysis <code>sorted in descending order</code>.</ul><tr><td><code>nlpcraft:limit</code><td> This token denotes a numerical limit.<td><ul><li>Show <code>top 5</code> brands.<li>Show <code>several</code> brands.</ul><tr><td><code>nlpcraft:coordinate</code><td> This token denotes a latitude and longitude coordinates.<td><ul><li>Route the path to <code>55.7558, 37.6173</code> location.</ul><tr><td><code>nlpcraft:relation</code><td> This token denotes a relation function: <code>compare</code> or <code>correlate</code>. Note this token always need another two tokens that it references.<td><ul><li> What is the <code><b>correlation between</b></code> <code>price</code> <code><b>and</b></code> <code>location</code> (assuming that 'price' and 'location' are also detected tokens).</ul><tr><td><code>google:xxx</code><td><p> These tokens denote <code>xxx</code> that is a lower case name of the named entity in <a target=_ href="https://cloud.google.com/natural-language/">Google APIs</a>, i.e. <code>google:person</code>, <code>google:location</code>, etc.</p><p> See <a href="integrations.html#google">integration</a> section for more details on how to configure Google named entity provider.</p><td><ul><li> Articles by <code>Ken Thompson</code>.<li> Best restaurants in <code>Paris</code>.</ul><tr><td><code>opennlp:xxx</code><td><p> These tokens denote <code>xxx</code> that is a lower case name of the named entity in <a target=_ href="https://opennlp.apache.org/">Apache OpenNLP</a>, i.e. <code>opennlp:person</code>, <code>opennlp:money</code>, etc.</p><p> See <a href="integrations.html#opennlp">integration</a> section for more details on how to configure Apache OpenNLP named entity provider.</p><td><ul><li> Articles by <code>Ken Thompson</code>.<li> Best restaurants under <code>100$</code>.</ul><tr><td><code>spacy:xxx</code><td><p> These tokens denote <code>xxx</code> that is a lower case name of the named entity in <a target=_ href="https://spacy.io/">spaCy</a>, i.e. <code>spacy:person</code>, <code>spacy:location</code>, etc.</p><p> See <a href="integrations.html#spacy">integration</a> section for more details on how to configure spaCy named entity provider.</p><td><ul><li> Articles by <code>Ken Thompson</code>.<li> Best restaurants in <code>Paris</code>.</ul><tr><td><code>stanford:xxx</code><td><p> These tokens denote <code>xxx</code> that is a lower case name of the named entity in <a target=_ href="https://stanfordnlp.github.io/CoreNLP">Stanford CoreNLP</a>, i.e. <code>stanford:person</code>, <code>stanford:location</code>, etc.</p><p> See <a href="integrations.html#stanford">integration</a> section for more details on how to configure Stanford CoreNLP named entity provider.</p><td><ul><li> Articles by <code>Ken Thompson</code>.<li> Best restaurants in <code>Paris</code>.</ul></table></section><section id="meta"><h2 class="section-title">Token Metadata <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></h2><p> Each token has different set of metadata. Sections below describe metadata for each built-in token supported by NLPCraft:</p><ul><li><a href="#nlpcraft:nlp">Token ID <code>nlpcraft:nlp</code></a><li><a href="#nlpcraft:date">Token ID <code>nlpcraft:date</code></a><li><a href="#nlpcraft:num">Token ID <code>nlpcraft:num</code></a><li><a href="#nlpcraft:city">Token ID <code>nlpcraft:city</code></a><li><a href="#nlpcraft:continent">Token ID <code>nlpcraft:continent</code></a><li><a href="#nlpcraft:subcontinent">Token ID <code>nlpcraft:subcontinent</code></a><li><a href="#nlpcraft:region">Token ID <code>nlpcraft:region</code></a><li><a href="#nlpcraft:country">Token ID <code>nlpcraft:country</code></a><li><a href="#nlpcraft:metro">Token ID <code>nlpcraft:metro</code></a><li><a href="#nlpcraft:coordinate">Token ID <code>nlpcraft:coordinate</code></a><li><a href="#nlpcraft:sort">Token ID <code>nlpcraft:sort</code></a><li><a href="#nlpcraft:limit">Token ID <code>nlpcraft:limit</code></a><li><a href="#nlpcraft:relation">Token ID <code>nlpcraft:relation</code></a><li><a href="#stanford:xxx">Token ID <code>stanford:xxx</code></a><li><a href="#spacy:xxx">Token ID <code>spacy:xxx</code></a><li><a href="#google:xxx">Token ID <code>google:xxx</code></a><li><a href="#opennlp:xxx">Token ID <code>opennlp:xxx</code></a></ul><div class="bq info"><p> <b>Metadata Name Conflicts</b></p><p> Note that model element metadata gets merged into the same map container as common NLP token metadata (see <code>nlpcraft:nlp:xxx</code> properties below). In other words, their share the same namespace. It is important to remember that and choose unique names for user-defined metadata properties. One possible way that is used by NLPCraft internally is to prefix metadata name with some unique prefix based on the token ID.</p></div><span id="nlpcraft:nlp" class="section-sub-title">Token ID <code>nlpcraft:nlp</code> <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></span><p> This token's metadata provides common basic NLP properties that are part of any token. <b>All tokens</b> without exception have these metadata properties. This metadata represents a common set of NLP properties for a given token. All these metadata properties are <b>mandatory</b>. Note also that interface <a target="javadoc" href="/apis/latest/org/apache/nlpcraft/model/NCToken.html">NCToken</a> provides a direct access to most of these properties.</p><table class="gradient-table"><thead><tr><th>Property<th>Java Type<th>Description<tbody><tr><td><code><b>nlpcraft:nlp:unid</b></code><td><code>java.lang.String</code><td>Internal globally unique system ID of the token.<tr><td><code><b>nlpcraft:nlp:bracketed</b></code><td><code>java.lang.Boolean</code><td>Whether or not this token is surrounded by any of <code>'['</code>, <code>']'</code>, <code>'{'</code>, <code>'}'</code>, <code>'('</code>, <code>')'</code> brackets.<tr><td><code><b>nlpcraft:nlp:freeword</b></code><td><code>java.lang.Boolean</code><td>Whether or not this token represents a free word. A free word is a token that was detected neither as a part of user defined or system tokens.<tr><td><code><b>nlpcraft:nlp:direct</b></code><td><code>java.lang.Boolean</code><td>Whether or not this token was matched on direct (not permutated) synonym.<tr><td><code><b>nlpcraft:nlp:english</b></code><td><code>java.lang.Boolean</code><td> Whether this token represents an English word. Note that this only checks that token's text consists of characters of English alphabet, i.e. the text doesn't have to be necessary a known valid English word. See <a href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html#isNonEnglishAllowed()" target="javadoc">NCModelView.isNonEnglishAllowed()</a> method for corresponding model configuration.<tr><td><code><b>nlpcraft:nlp:lemma</b></code><td><code>java.lang.String</code><td> Lemma of this token, i.e. a canonical form of this word. Note that stemming and lemmatization allow to reduce inflectional forms and sometimes derivationally related forms of a word to a common base form. Lemmatization refers to the use of a vocabulary and morphological analysis of words, normally aiming to remove inflectional endings only and to return the base or dictionary form of a word, which is known as the lemma. Learn more at <a target=_ href="https://nlp.stanford.edu/IR-book/html/htmledition/stemming-and-lemmatization-1.html">https://nlp.stanford.edu/IR-book/html/htmledition/stemming-and-lemmatization-1.html</a><tr><td><code><b>nlpcraft:nlp:stem</b></code><td><code>java.lang.String</code><td> Stem of this token. Note that stemming and lemmatization allow to reduce inflectional forms and sometimes derivationally related forms of a word to a common base form. Unlike lemma, stemming is a basic heuristic process that chops off the ends of words in the hope of achieving this goal correctly most of the time, and often includes the removal of derivational affixes. Learn more at <a target=_ href="https://nlp.stanford.edu/IR-book/html/htmledition/stemming-and-lemmatization-1.html">https://nlp.stanford.edu/IR-book/html/htmledition/stemming-and-lemmatization-1.html</a><tr><td><code><b>nlpcraft:nlp:pos</b></code><td><code>java.lang.String</code><td> Penn Treebank POS tag for this token. Note that additionally to standard Penn Treebank POS tags NLPCraft introduced '-&#45;&#45;' synthetic tag to indicate a POS tag for multiword tokens. Learn more at <a target=_ href="http://www.ling.upenn.edu/courses/Fall_2003/ling001/penn_treebank_pos.html">http://www.ling.upenn.edu/courses/Fall_2003/ling001/penn_treebank_pos.html</a><tr><td><code><b>nlpcraft:nlp:posdesc</b></code><td><code>java.lang.String</code><td> Description of Penn Treebank POS tag. Learn more at <a target=_ href="http://www.ling.upenn.edu/courses/Fall_2003/ling001/penn_treebank_pos.html">http://www.ling.upenn.edu/courses/Fall_2003/ling001/penn_treebank_pos.html</a><tr><td><code><b>nlpcraft:nlp:swear</b></code><td><code>java.lang.Boolean</code><td> Whether or not this token is a swear word. NLPCraft has built-in list of common English swear words. See <a href="/apis/latest/org/apache/nlpcraft/model/NCModelView.html#isSwearWordsAllowed()" target="javadoc">NCModelView.isSwearWordsAllowed()</a> for corresponding model configuration<tr><td><code><b>nlpcraft:nlp:origtext</b></code><td><code>java.lang.String</code><td> Original user input text for this token.<tr><td><code><b>nlpcraft:nlp:normtext</b></code><td><code>java.lang.String</code><td> Normalized user input text for this token.<tr><td><code><b>nlpcraft:nlp:sparsity</b></code><td><code>java.lang.Integer</code><td> Numeric value of how sparse the token is. Sparsity zero means that all individual words in the token follow each other.<tr><td><code><b>nlpcraft:nlp:minindex</b></code><td><code>java.lang.Integer</code><td> Index of the first word in this token. Note that token may not be contiguous.<tr><td><code><b>nlpcraft:nlp:maxindex</b></code><td><code>java.lang.Integer</code><td> Index of the last word in this token. Note that token may not be contiguous.<tr><td><code><b>nlpcraft:nlp:wordindexes</b></code><td><code>java.util.List&lt;Integer&gt;</code><td> List of original word indexes in this token. Note that a token can have words that are not contiguous in the original sentence. Always has at least one element in it.<tr><td><code><b>nlpcraft:nlp:wordlength</b></code><td><code>java.lang.Integer</code><td> Number of individual words in this token. Equal to the size of <code>wordindexes</code> list.<tr><td><code><b>nlpcraft:nlp:contiguous</b></code><td><code>java.lang.Boolean</code><td> Whether or not this token has zero sparsity, i.e. consists of contiguous words.<tr><td><code><b>nlpcraft:nlp:start</b></code><td><code>java.lang.Integer</code><td> Start character index of this token.<tr><td><code><b>nlpcraft:nlp:end</b></code><td><code>java.lang.Integer</code><td> End character index of this token.<tr><td><code><b>nlpcraft:nlp:index</b></code><td><code>java.lang.Integer</code><td> Index of this token in the sentence.<tr><td><code><b>nlpcraft:nlp:charlength</b></code><td><code>java.lang.Integer</code><td> Character length of this token.<tr><td><code><b>nlpcraft:nlp:quoted</b></code><td><code>java.lang.Boolean</code><td> Whether or not this token is surrounded by single or double quotes.<tr><td><code><b>nlpcraft:nlp:stopword</b></code><td><code>java.lang.Boolean</code><td> Whether or not this token is a stopword. Stopwords are some extremely common words which add little value in helping understanding user input and are excluded from the processing entirely. For example, words like a, the, can, of, about, over, etc. are typical stopwords in English. NLPCraft has built-in set of stopwords.<tr><td><code><b>nlpcraft:nlp:dict</b></code><td><code>java.lang.Boolean</code><td> Whether or not this token is found in Princeton WordNet database.</table><br/> <span id="nlpcraft:date" class="section-sub-title">Token ID <code>nlpcraft:date</code> <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></span><p> This token denotes a date range including single days. Additionally to <code><b>nlpcraft:nlp:xxx</b></code> properties this type of token will have the following metadata properties all of which are <b>mandatory</b>.</p><table class="gradient-table"><thead><tr><th>Property<th>Java Type<th>Description<tbody><tr><td><code><b>nlpcraft:date:from</b></code><td><code>java.lang.Long</code><td> Start timestamp of the datetime range.<tr><td><code><b>nlpcraft:date:to</b></code><td><code>java.lang.Long</code><td> End timestamp of the datetime range.</table><br/> <span id="nlpcraft:num" class="section-sub-title">Token ID <code>nlpcraft:num</code> <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></span><p> This token denotes a single numerical value or a numeric condition. Additionally to <code><b>nlpcraft:nlp:xxx</b></code> properties this type of token will have the following metadata properties all of which are <b>mandatory</b> unless otherwise noted.</p><table class="gradient-table"><thead><tr><th>Property<th>Java Type<th>Description<tbody><tr><td><code><b>nlpcraft:num:from</b></code><td><code>java.lang.Double</code><td> Start of numeric range that satisfies the condition (exclusive). Note that if <code>from</code> and <code>to</code> are the same this token represent a single value (whole or fractional) in which case <code>isequalcondition</code>> will be <code>true</code>.<tr><td><code><b>nlpcraft:num:to</b></code><td><code>java.lang.Double</code><td> Ed of numeric range that satisfies the condition (exclusive). Note that if <code>from</code> and <code>to</code> are the same this token represent a single value (whole or fractional) in which case <code>isequalcondition</code>> will be <code>true</code>.<tr><td><code><b>nlpcraft:num:fromincl</b></code><td><code>java.lang.Boolean</code><td> Whether or not start of the numeric range is inclusive<tr><td><code><b>nlpcraft:num:toincl</b></code><td><code>java.lang.Boolean</code><td> Whether or not end of the numeric range is inclusive<tr><td><code><b>nlpcraft:num:isequalcondition</b></code><td><code>java.lang.Boolean</code><td> Whether this is an equality condition. Note that single numeric values also default to equality condition and this property will be <code>true</code>. Indeed, <code>A is equal to 2</code> and <code>A is 2</code> have the same meaning.<tr><td><code><b>nlpcraft:num:isnotequalcondition</b></code><td><code>java.lang.Boolean</code><td> Whether this is a not-equality condition.<tr><td><code><b>nlpcraft:num:isfromnegativeinfinity</b></code><td><code>java.lang.Boolean</code><td> Whether this range is from negative infinity.<tr><td><code><b>nlpcraft:num:israngecondition</b></code><td><code>java.lang.Boolean</code><td> Whether this is a range condition.<tr><td><code><b>nlpcraft:num:istopositiveinfinity</b></code><td><code>java.lang.Boolean</code><td> Whether this range is to positive infinity.<tr><td><code><b>nlpcraft:num:isfractional</b></code><td><code>java.lang.Boolean</code><td> Whether this token's value (single numeric value of a range) is a whole or a fractional number.<tr><td><code><b>nlpcraft:num:unit</b></code> <sub>opt.</sub><td><code>java.lang.String</code><td> Optional numeric value unit name (see below).<tr><td><code><b>nlpcraft:num:unittype</b></code> <sub>opt.</sub><td><code>java.lang.String</code><td> Optional numeric value unit type (see below).</table><p> Following table provides possible values for <code><b>nlpcraft:num:unit</b></code> and <code><b>nlpcraft:num:unittype</b></code> properties:</p><table class="gradient-table"><thead><tr><th>num:unittype<th>num:unit <sub>possible values</sub><tbody><tr><td><code>mass</code><td><code>feet per second</code><br/><code>grams</code><br/><code>kilogram</code><br/><code>grain</code><br/><code>dram</code><br/><code>ounce</code><br/><code>pound</code><br/><code>hundredweight</code><br/><code>ton</code><br/><code>tonne</code><br/><code>slug</code><tr><td><code>torque</code><td><code>newton meter</code><tr><td><code>area</code><td><code>square meter</code><br/><code>acre</code><br/><code>are</code><br/><code>hectare</code><br/><code>square inches</code><br/><code>square feet</code><br/><code>square yards</code><br/><code>square miles</code><tr><td><code>paper quantity</code><td><code>paper bale</code><tr><td><code>force</code><td><code>kilopond</code><br/><code>pond</code><tr><td><code>pressure</code><td><code>pounds per square inch</code><tr><td><code>solid angle</code><td><code>steradian</code><tr><td><code>pressure</code><br/><code>stress</code><td><code>pascal</code><tr><td><code>luminous</code><td><code>flux</code><br/><code>lumen</code><tr><td><code>amount of substance</code><td><code>mole</code><tr><td><code>luminance</code><td><code>candela per square metre</code><tr><td><code>angle</code><td><code>radian</code><br/><code>degree</code><tr><td><code>magnetic flux density</code><br/><code>magnetic field</code><td><code>tesla</code><tr><td><code>power</code><br/><code>radiant flux</code><td><code>watt</code><tr><td><code>datetime</code><td><code>second</code><br/><code>minute</code><br/><code>hour</code><br/><code>day</code><br/><code>week</code><br/><code>month</code><br/><code>year</code><tr><td><code>electrical inductance</code><td><code>henry</code><tr><td><code>electric charge</code><td><code>coulomb</code><tr><td><code>temperature</code><td><code>kelvin</code><br/><code>centigrade</code><br/><code>fahrenheit</code><tr><td><code>voltage</code><br/><code>electrical</code><td><code>volt</code><tr><td><code>momentum</code><td><code>kilogram meters per second</code><tr><td><code>amount of heat</code><td><code>calorie</code><tr><td><code>electrical capacitance</code><td><code>farad</code><tr><td><code>radioactive decay</code><td><code>becquerel</code><tr><td><code>electrical conductance</code><td><code>siemens</code><tr><td><code>luminous intensity</code><td><code>candela</code><tr><td><code>work</code><br/><code>energy</code><td><code>joule</code><tr><td><code>quantities</code><td><code>dozen</code><tr><td><code>density</code><td><code>density</code><tr><td><code>sound</code><td><code>decibel</code><tr><td><code>electrical resistance</code><br/><code>impedance</code><td><code>ohm</code><tr><td><code>force</code><br/><code>weight</code><td><code>newton</code><tr><td><code>light quantity</code><td><code>lumen seconds</code><tr><td><code>length</code><td><code>meter</code><br/><code>millimeter</code><br/><code>centimeter</code><br/><code>decimeter</code><br/><code>kilometer</code><br/><code>astronomical unit</code><br/><code>light year</code><br/><code>parsec</code><br/><code>inch</code><br/><code>foot</code><br/><code>yard</code><br/><code>mile</code><br/><code>nautical mile</code><tr><td><code>refractive index</code><td><code>diopter</code><tr><td><code>frequency</code><td><code>hertz</code><br/><code>angular frequency</code><tr><td><code>power</code><td><code>kilowatt</code><br/><code>horsepower</code><br/><code>bar</code><tr><td><code>magnetic flux</code><td><code>weber</code><tr><td><code>current</code><td><code>ampere</code><tr><td><code>acceleration of gravity</code><td><code>gravity imperial</code><br/><code>gravity metric</code><tr><td><code>volume</code><td><code>cubic meter</code><br/><code>liter</code><br/><code>milliliter</code><br/><code>centiliter</code><br/><code>deciliter</code><br/><code>hectoliter</code><br/><code>cubic inch</code><br/><code>cubic foot</code><br/><code>cubic yard</code><br/><code>acre-foot</code><br/><code>teaspoon</code><br/><code>tablespoon</code><br/><code>fluid ounce</code><br/><code>cup</code><br/><code>gill</code><br/><code>pint</code><br/><code>quart</code><br/><code>gallon</code><tr><td><code>speed</code><td><code>miles per hour</code><br/><code>meters per second</code><tr><td><code>illuminance</code><td><code>lux</code></table><br/> <span id="nlpcraft:city" class="section-sub-title">Token ID <code>nlpcraft:city</code> <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></span><p> This token denotes a city. Additionally to <code><b>nlpcraft:nlp:xxx</b></code> properties this type of token will have the following metadata properties all of which are <b>mandatory</b> unless otherwise noted.</p><table class="gradient-table"><thead><tr><th>Property<th>Java Type<th>Description<tbody><tr><td><code><b>nlpcraft:city:city</b></code><td><code>java.lang.String</code><td> Name of the city.<tr><td><code><b>nlpcraft:city:continent</b></code><td><code>java.lang.String</code><td> Continent name.<tr><td><code><b>nlpcraft:city:subcontinent</b></code><td><code>java.lang.String</code><td> Subcontinent name.<tr><td><code><b>nlpcraft:city:subcontinent</b></code><td><code>java.lang.String</code><td> Subcontinent name.<tr><td><code><b>nlpcraft:city:countrymeta</b></code><td><code>java.util.Map</code><td> Supplemental metadata for city's country (see below).<tr><td><code><b>nlpcraft:city:citymeta</b></code><td><code>java.util.Map</code><td> Supplemental metadata for city (see below).</table><p> Following tables provides possible values for <code><b>nlpcraft:city:countrymeta</b></code> map. The data is obtained from <a href="http://unstats.un.org" target=_>The United Nations Statistics Division</a> datasets:</p><table class="gradient-table"><thead><tr><th>Key<th>Java Type<th>Description<tbody><tr><td><code><b>iso</b></code><td><code>java.lang.String</code><td>ISO country code.<tr><td><code><b>iso3</b></code><td><code>java.lang.String</code><td>ISO 3166 country code.<tr><td><code><b>isocode</b></code><td><code>java.lang.String</code><td>ISO country code.<tr><td><code><b>capital</b></code> <sub>opt.</sub><td><code>java.lang.String</code><td>Optional country capital city name.<tr><td><code><b>area</b></code> <sub>opt.</sub><td><code>java.lang.Double</code><td>Optional country surface area.<tr><td><code><b>population</b></code> <sub>opt.</sub><td><code>java.lang.Long</code><td>Optional country population.<tr><td><code><b>continent</b></code><td><code>java.lang.String</code><td>Optional country continent.<tr><td><code><b>currencycode</b></code><td><code>java.lang.String</code><td>Country currency code.<tr><td><code><b>currencyname</b></code><td><code>java.lang.String</code><td>Country currency name.<tr><td><code><b>phone</b></code> <sub>opt.</sub><td><code>java.lang.String</code><td>Optional country phone code.<tr><td><code><b>postalcodeformat</b></code> <sub>opt.</sub><td><code>java.lang.String</code><td>Optional country postal code format.<tr><td><code><b>postalcoderegex</b></code> <sub>opt.</sub><td><code>java.lang.String</code><td>Optional country postal code regular expression.<tr><td><code><b>languages</b></code> <sub>opt.</sub><td><code>java.lang.String</code><td>Optional country list of languages.<tr><td><code><b>neighbours</b></code> <sub>opt.</sub><td><code>java.lang.String</code><td>Optional country list of neighbours.</table><p> Following tables provides possible values for <code><b>nlpcraft:city:citymeta</b></code> map. The data is obtained from <a href="http://unstats.un.org" target=_>The United Nations Statistics Division</a> datasets:</p><table class="gradient-table"><thead><tr><th>Key<th>Java Type<th>Description<tbody><tr><td><code><b>latitude</b></code><td><code>java.lang.Double</code><td>City latitude.<tr><td><code><b>longitude</b></code><td><code>java.lang.Double</code><td>City longitude.<tr><td><code><b>population</b></code><td><code>java.lang.Long</code><td>City population.<tr><td><code><b>elevation</b></code> <sub>opt.</sub><td><code>java.lang.Integer</code><td>Optional city elevation in meters.<tr><td><code><b>timezone</b></code><td><code>java.lang.String</code><td>City timezone.</table><br/> <span id="nlpcraft:continent" class="section-sub-title">Token ID <code>nlpcraft:continent</code> <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></span><p> This token denotes a continent. Additionally to <code><b>nlpcraft:nlp:xxx</b></code> properties this type of token will have the following metadata properties all of which are <b>mandatory</b> unless otherwise noted.</p><table class="gradient-table"><thead><tr><th>Property<th>Java Type<th>Description<tbody><tr><td><code><b>nlpcraft:continent:continent</b></code><td><code>java.lang.String</code><td>Name of the continent.</table><br/> <span id="nlpcraft:subcontinent" class="section-sub-title">Token ID <code>nlpcraft:subcontinent</code> <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></span><p> This token denotes a subcontinent. Additionally to <code><b>nlpcraft:nlp:xxx</b></code> properties this type of token will have the following metadata properties all of which are <b>mandatory</b> unless otherwise noted.</p><table class="gradient-table"><thead><tr><th>Property<th>Java Type<th>Description<tbody><tr><td><code><b>nlpcraft:subcontinent:continent</b></code><td><code>java.lang.String</code><td>Name of the continent.<tr><td><code><b>nlpcraft:subcontinent:subcontinent</b></code><td><code>java.lang.String</code><td>Name of the subcontinent.</table><br/> <span id="nlpcraft:metro" class="section-sub-title">Token ID <code>nlpcraft:metro</code> <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></span><p> This token denotes a metro area. Additionally to <code><b>nlpcraft:nlp:xxx</b></code> properties this type of token will have the following metadata properties all of which are <b>mandatory</b> unless otherwise noted.</p><table class="gradient-table"><thead><tr><th>Property<th>Java Type<th>Description<tbody><tr><td><code><b>nlpcraft:metro:metro</b></code><td><code>java.lang.String</code><td>Name of the metro area.</table><br/> <span id="nlpcraft:region" class="section-sub-title">Token ID <code>nlpcraft:region</code> <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></span><p> This token denotes a geographical region. Additionally to <code><b>nlpcraft:nlp:xxx</b></code> properties this type of token will have the following metadata properties all of which are <b>mandatory</b> unless otherwise noted.</p><table class="gradient-table"><thead><tr><th>Property<th>Java Type<th>Description<tbody><tr><td><code><b>nlpcraft:region:region</b></code><td><code>java.lang.String</code><td> Name of the region.<tr><td><code><b>nlpcraft:region:continent</b></code><td><code>java.lang.String</code><td> Continent name.<tr><td><code><b>nlpcraft:region:subcontinent</b></code><td><code>java.lang.String</code><td> Subcontinent name.<tr><td><code><b>nlpcraft:region:subcontinent</b></code><td><code>java.lang.String</code><td> Subcontinent name.<tr><td><code><b>nlpcraft:region:countrymeta</b></code><td><code>java.util.Map</code><td> Supplemental metadata for region's country (see below).</table><p> Following tables provides possible values for <code><b>nlpcraft:region:countrymeta</b></code> map. The data is obtained from <a href="http://unstats.un.org" target=_>The United Nations Statistics Division</a> datasets:</p><table class="gradient-table"><thead><tr><th>Key<th>Java Type<th>Description<tbody><tr><td><code><b>iso</b></code><td><code>java.lang.String</code><td>ISO country code.<tr><td><code><b>iso3</b></code><td><code>java.lang.String</code><td>ISO 3166 country code.<tr><td><code><b>isocode</b></code><td><code>java.lang.String</code><td>ISO country code.<tr><td><code><b>capital</b></code> <sub>opt.</sub><td><code>java.lang.String</code><td>Optional country capital city name.<tr><td><code><b>area</b></code> <sub>opt.</sub><td><code>java.lang.Double</code><td>Optional country surface area.<tr><td><code><b>population</b></code> <sub>opt.</sub><td><code>java.lang.Long</code><td>Optional country population.<tr><td><code><b>continent</b></code><td><code>java.lang.String</code><td>Optional country continent.<tr><td><code><b>currencycode</b></code><td><code>java.lang.String</code><td>Country currency code.<tr><td><code><b>currencyname</b></code><td><code>java.lang.String</code><td>Country currency name.<tr><td><code><b>phone</b></code> <sub>opt.</sub><td><code>java.lang.String</code><td>Optional country phone code.<tr><td><code><b>postalcodeformat</b></code> <sub>opt.</sub><td><code>java.lang.String</code><td>Optional country postal code format.<tr><td><code><b>postalcoderegex</b></code> <sub>opt.</sub><td><code>java.lang.String</code><td>Optional country postal code regular expression.<tr><td><code><b>languages</b></code> <sub>opt.</sub><td><code>java.lang.String</code><td>Optional country list of languages.<tr><td><code><b>neighbours</b></code> <sub>opt.</sub><td><code>java.lang.String</code><td>Optional country list of neighbours.</table><br/> <span id="nlpcraft:country" class="section-sub-title">Token ID <code>nlpcraft:country</code> <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></span><p> This token denotes a country. Additionally to <code><b>nlpcraft:nlp:xxx</b></code> properties this type of token will have the following metadata properties all of which are <b>mandatory</b> unless otherwise noted.</p><table class="gradient-table"><thead><tr><th>Property<th>Java Type<th>Description<tbody><tr><td><code><b>nlpcraft:country:country</b></code><td><code>java.lang.String</code><td> Name of the country.<tr><td><code><b>nlpcraft:country:continent</b></code><td><code>java.lang.String</code><td> Continent name.<tr><td><code><b>nlpcraft:country:subcontinent</b></code><td><code>java.lang.String</code><td> Subcontinent name.<tr><td><code><b>nlpcraft:country:subcontinent</b></code><td><code>java.lang.String</code><td> Subcontinent name.<tr><td><code><b>nlpcraft:country:countrymeta</b></code><td><code>java.util.Map</code><td> Supplemental metadata for region's country (see below).</table><p> Following tables provides possible values for <code><b>nlpcraft:country:countrymeta</b></code> map. The data is obtained from <a href="http://unstats.un.org" target=_>The United Nations Statistics Division</a> datasets:</p><table class="gradient-table"><thead><tr><th>Key<th>Java Type<th>Description<tbody><tr><td><code><b>iso</b></code><td><code>java.lang.String</code><td>ISO country code.<tr><td><code><b>iso3</b></code><td><code>java.lang.String</code><td>ISO 3166 country code.<tr><td><code><b>isocode</b></code><td><code>java.lang.String</code><td>ISO country code.<tr><td><code><b>capital</b></code> <sub>opt.</sub><td><code>java.lang.String</code><td>Optional country capital city name.<tr><td><code><b>area</b></code> <sub>opt.</sub><td><code>java.lang.Double</code><td>Optional country surface area.<tr><td><code><b>population</b></code> <sub>opt.</sub><td><code>java.lang.Long</code><td>Optional country population.<tr><td><code><b>continent</b></code><td><code>java.lang.String</code><td>Optional country continent.<tr><td><code><b>currencycode</b></code><td><code>java.lang.String</code><td>Country currency code.<tr><td><code><b>currencyname</b></code><td><code>java.lang.String</code><td>Country currency name.<tr><td><code><b>phone</b></code> <sub>opt.</sub><td><code>java.lang.String</code><td>Optional country phone code.<tr><td><code><b>postalcodeformat</b></code> <sub>opt.</sub><td><code>java.lang.String</code><td>Optional country postal code format.<tr><td><code><b>postalcoderegex</b></code> <sub>opt.</sub><td><code>java.lang.String</code><td>Optional country postal code regular expression.<tr><td><code><b>languages</b></code> <sub>opt.</sub><td><code>java.lang.String</code><td>Optional country list of languages.<tr><td><code><b>neighbours</b></code> <sub>opt.</sub><td><code>java.lang.String</code><td>Optional country list of neighbours.</table><br/> <span id="nlpcraft:coordinate" class="section-sub-title">Token ID <code>nlpcraft:coordinate</code> <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></span><p> This token denotes a latitude and longitude coordinate. Additionally to <code><b>nlpcraft:nlp:xxx</b></code> properties this type of token will have the following metadata properties all of which are <b>mandatory</b> unless otherwise noted.</p><table class="gradient-table"><thead><tr><th>Property<th>Java Type<th>Description<tbody><tr><td><code><b>coordinate:latitude</b></code><td><code>java.lang.Double</code><td>Coordinate latitude.<tr><td><code><b>coordinate:longitude</b></code><td><code>java.lang.Double</code><td>Coordinate longitude.</table><br/> <span id="nlpcraft:sort" class="section-sub-title">Token ID <code>nlpcraft:sort</code> <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></span><p> This token denotes a sorting or ordering function. Additionally to <code><b>nlpcraft:nlp:xxx</b></code> properties this type of token will have the following metadata properties all of which are <b>mandatory</b> unless otherwise noted.</p><table class="gradient-table"><thead><tr><th>Property<th>Java Type<th>Description<tbody><tr><td><code><b>nlpcraft:sort:subjindexes</b></code><td><code>java.util.List&lt;Integer&gt;</code><td>One of more indexes of the target tokens (i.e. the token that being sorted).<tr><td><code><b>nlpcraft:sort:byindexes</b></code><td><code>java.util.List&lt;Integer&gt;</code><td>Zero or more (i.e. optional) indexes of the reference token (i.e. the token being sorted by).<tr><td><code><b>nlpcraft:sort:asc</b></code><td><code>java.lang.Boolean</code><td> Whether sorting is in ascending or descending order.</table><br/> <span id="nlpcraft:limit" class="section-sub-title">Token ID <code>nlpcraft:limit</code> <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></span><p> This token denotes a numeric limit value (like in "top 10" or "bottom five"). Additionally to <code><b>nlpcraft:nlp:xxx</b></code> properties this type of token will have the following metadata properties all of which are <b>mandatory</b> unless otherwise noted.</p><table class="gradient-table"><thead><tr><th>Property<th>Java Type<th>Description<tbody><tr><td><code><b>nlpcraft:limit:indexes</b></code><td><code>java.util.List&lt;Integer&gt;</code><td>Index (always only one) of the reference token (i.e. the token being limited).<tr><td><code><b>nlpcraft:limit:asc</b></code><td><code>java.lang.Boolean</code><td> Whether limit order is ascending or descending.<tr><td><code><b>nlpcraft:limit:limit</b></code><td><code>java.lang.Integer</code><td> Numeric value of the limit.</table><br/> <span id="nlpcraft:relation" class="section-sub-title">Token ID <code>nlpcraft:relation</code> <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></span><p> This token denotes a numeric limit value (like in "top 10" or "bottom five"). Additionally to <code><b>nlpcraft:nlp:xxx</b></code> properties this type of token will have the following metadata properties all of which are <b>mandatory</b> unless otherwise noted.</p><table class="gradient-table"><thead><tr><th>Property<th>Java Type<th>Description<tbody><tr><td><code><b>nlpcraft:relation:indexes</b></code><td><code>java.util.List&lt;Integer&gt;</code><td>Index (always only one) of the reference token (i.e. the token being related to).<tr><td><code><b>nlpcraft:relation:type</b></code><td><code>java.lang.String</code><td> Type of the relation. One of the following values:<ul><li><code>compare</code><li><code>correlate</code></ul></table><br/> <span id="google:xxx" class="section-sub-title">Token ID <code>google:xxx</code> <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></span><p> These tokens denote <code>xxx</code> that is a lower case name of the named entity in <a target=_ href="https://cloud.google.com/natural-language/">Google APIs</a>, i.e. <code>google:person</code>, <code>google:location</code>, etc. Additionally to <code><b>nlpcraft:nlp:xxx</b></code> properties this type of token will have the following metadata properties all of which are <b>mandatory</b> unless otherwise noted.</p><table class="gradient-table"><thead><tr><th>Property<th>Java Type<th>Description<tbody><tr><td><code><b>google:salience</b></code><td><code>java.lang.Double</code><td>Correctness probability of this token by Google Natural Language.<tr><td><code><b>google:meta</b></code><td><code>java.util.Map&lt;String&gt;</code><td> Map-based container for Google Natural Language specific properties.<tr><td><code><b>google:mentionsbeginoffsets</b></code><td><code>java.util.List&lt;String&gt;</code><td> List of the mention begin offsets in the original normalized text.<tr><td><code><b>google:mentionscontents</b></code><td><code>java.util.List&lt;String&gt;</code><td> List of the mentions.<tr><td><code><b>google:mentionstypes</b></code><td><code>java.util.List&lt;String&gt;</code><td> List of the mention types.</table><br/> <span id="stanford:xxx" class="section-sub-title">Token ID <code>stanford:xxx</code> <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></span><p> These tokens denote <code>xxx</code> that is a lower case name of the named entity in <a target=_ href="https://stanfordnlp.github.io/CoreNLP">Stanford CoreNLP</a>, i.e. <code>stanford:person</code>, <code>stanford:location</code>, etc. Additionally to <code><b>nlpcraft:nlp:xxx</b></code> properties this type of token will have the following metadata properties all of which are <b>mandatory</b> unless otherwise noted.</p><table class="gradient-table"><thead><tr><th>Property<th>Java Type<th>Description<tbody><tr><td><code><b>stanford:confidence</b></code><td><code>java.lang.Double</code><td>Correctness probability of this token by Stanford CoreNLP.<tr><td><code><b>stanford:nne</b></code><td><code>java.lang.String</code><td> Normalized Named Entity (NNE) text.</table><br/> <span id="spacy:xxx" class="section-sub-title">Token ID <code>spacy:xxx</code> <a href="#"><i class="top-link fas fa-fw fa-angle-double-up"></i></a></span><p> These tokens denote <code>xxx</code> that is a lower case name of the named entity in <a target=_ href="https://spacy.io/">spaCy</a>, i.e. <code>spacy:person</code>, <code>spacy:location</code>, etc. Additionally to <code><b>nlpcraft:nlp:xxx</b></code> properties this type of token will have the following metadata properties all of which are <b>mandatory</b> unless otherwise noted.</p><table class="gradient-table"><thead><tr><th>Property<th>Java Type<th>Description<tbody><tr><td><code><b>spacy:vector</b></code><td><code>java.lang.Double</code><td>spaCy span vector.<tr><td><code><b>spacy:sentiment</b></code><td><code>java.lang.Double</code><td> A scalar value indicating the positivity or negativity of the token.</table><br/> <span id="opennlp:xxx" class="section-sub-title">Token ID <code>opennlp:xxx</code></span><p> These tokens denote <code>xxx</code> that is a lower case name of the named entity in <a target=_ href="https://opennlp.apache.org/">Apache OpenNLP</a>, i.e. <code>opennlp:person</code>, <code>opennlp:money</code>, etc. Additionally to <code><b>nlpcraft:nlp:xxx</b></code> properties this type of token will have the following metadata properties all of which are <b>mandatory</b> unless otherwise noted.</p><table class="gradient-table"><thead><tr><th>Property<th>Java Type<th>Description<tbody><tr><td><code><b>opennlp:probability</b></code><td><code>java.lang.Double</code><td>Correctness probability of this token by OpenNLP.</table></section></div><div class="col-md-2 third-column"><ul class="side-nav"><li class="side-nav-title">On This Page<li><a href="#overview">Model Overview</a><li><a href="#dataflow">Model Dataflow</a><li><a href="#lifecycle">Model Lifecycle</a><li><a href="#config">Model Configuration</a><li><a href="#elements">Model Elements</a><li><a href="#dsl">IDL Expression</a><li><a href="#programmable_ners">Programmable NERs</a><li><a href="#logic">Model Logic</a><li><a href="#builtin">Built-In Tokens</a><li><a href="#meta">Token Metadata</a><li class="side-nav-title">Quick Links<li> <i class="fab fa-fw fa-github mr-2"></i><a target="github" href="https://github.com/apache/incubator-nlpcraft/tree/master/nlpcraft-examples">Examples</a><li> <i class="fab fa-fw fa-java mr-2"></i><a target="_" href="/apis/latest/index.html">Javadoc</a><li> <i class="fas fa-fw fa-code mr-2"></i><a href="https://app.swaggerhub.com/apis-docs/Apache-NLPCraft/apache-nlpcraft/0.7.5" target="swaggerhub">REST API</a><li> <i class="fas fa-fw fa-download mr-2"></i><a href="/download.html">Download</a><li> <i class="fas fa-fw fa-magic mr-2"></i><a href="/cheat-sheet.html">Cheat Sheet</a><li class="side-nav-title">Support<li> <nobr> <i class="fab fa-fw fa-jira mr-2"></i><a target="jira" href="https://issues.apache.org/jira/projects/NLPCRAFT/issues">JIRA</a> </nobr><li> <nobr> <i class="far fa-fw fa-envelope mr-2"></i><a href="https://mail-archives.apache.org/mod_mbox/nlpcraft-dev/">Dev List</a> </nobr><li> <nobr> <i class="fab fa-fw fa-stack-overflow mr-2"></i><a target="so" href="https://stackoverflow.com/questions/ask">Stack Overflow</a> </nobr><li> <nobr> <i class="fab fa-fw fa-github mr-2"></i><a target="github" href="https://github.com/apache/incubator-nlpcraft">GitHub</a> </nobr><li> <nobr> <i class="fab fa-fw fa-gitter mr-2"></i><a target="gitter" href="https://gitter.im/apache-nlpcraft/community">Gitter</a> </nobr></ul></div></div></div></div><div id="footer"><div class="container"><div class="text-muted text-center"> <span>Copyright &copy; 2021 Apache Software Foundation</span> <span> <a target=_new href="https://apache.org"><img alt="asf" src="/images/asf_logo-h24.png"></a> </span> <a target="asf" href="https://www.apache.org/events/current-event.html" class="btn btn-link ml-4">Events</a> <span class="sep">•</span> <a target="asf" href="https://apache.org/foundation/policies/privacy.html" class="btn btn-link">Privacy</a> <span class="sep">•</span> <a href="/index.html#news" class="btn btn-link">News</a> <span class="sep">•</span> <a href="/docs.html" class="btn btn-link">Docs</a> <span class="ml-4">release: <a href="/download.html"><code>0.7.5</code></a></span> <span class="ml-2"> <a target="github" href="https://github.com/apache/incubator-nlpcraft/actions"><img alt="" src="https://github.com/apache/incubator-nlpcraft/workflows/build/badge.svg"></a> <a target=_ href="https://gitter.im/apache-nlpcraft/community"><img alt="Gitter" src="https://badges.gitter.im/apache-nlpcraft/community.svg"></a> </span> <span class="ml-2"> Built in:<a target="scala" href="https://scala-lang.org/"><img style="margin-left: 5px" src="/images/scala-logo-h16.png" alt=""></a> </span></div></div></div><script src="//code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script> <script src="//cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script> <script src="//stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script> <script src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.4/lodash.min.js" type="text/javascript" ></script> <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.12.0/moment.min.js" type="text/javascript" ></script> <script src="//cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.5/moment-timezone-with-data.min.js" type="text/javascript" ></script> <script type="text/javascript"> SyntaxHighlighter.defaults["auto-links"] = false; SyntaxHighlighter.defaults["tab-size"] = 2; SyntaxHighlighter.all(); </script>
